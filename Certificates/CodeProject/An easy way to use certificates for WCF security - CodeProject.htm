<!DOCTYPE HTML>


<html>
<head>
	<title>An easy way to use certificates for WCF security - CodeProject</title> 
	<link type="text/css" rel="stylesheet" href="http://s.codeproject.com/App_Themes/CodeProject/Css/Main.min.css?dt=2.8.140609.1">

	
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="Description" content="An easy solution to use certificates on Windows Communication Foundation loading the certificates from files; Author: Davide Icardi; Updated: 30 Apr 2007; Section: Windows Communication Foundation; Chapter: Platforms, Frameworks &amp; Libraries; Updated: 30 Apr 2007" />
<meta name="Keywords" content="VS2005, C#2.0, .NET3.0, ASP.NET, Windows, Dev, WCF, WebForms, Intermediate,Windows Communication Foundation,Platforms, Frameworks &amp; Libraries,Free source code, tutorials" />
<meta name="Author" content="Davide Icardi" />
<meta name="Rating" content="General" />
<meta name="Robots" content="index, follow, NOODP" />
<meta name="Revisit-After" content="1 days" />
<meta name="application-name" content="CodeProject" />

<link rel="dns-prefetch" href="//ajax.googleapis.com" /> 
<link rel="canonical" href="/Articles/18601/An-easy-way-to-use-certificates-for-WCF-security" />


<link rel="alternate" type="application/rss+xml" title="CodeProject Latest articles - All Topics" href="http://www.codeproject.com/WebServices/ArticleRSS.aspx?cat=1" />
<link rel="alternate" type="application/rss+xml" title="CodeProject Latest articles - Android" href="http://www.codeproject.com/WebServices/ArticleRSS.aspx?cat=22" />
<link rel="alternate" type="application/rss+xml" title="CodeProject Latest articles - C++" href="http://www.codeproject.com/WebServices/ArticleRSS.aspx?cat=2" />
<link rel="alternate" type="application/rss+xml" title="CodeProject Latest articles - C#" href="http://www.codeproject.com/WebServices/ArticleRSS.aspx?cat=3" />
<link rel="alternate" type="application/rss+xml" title="CodeProject Latest articles - Web" href="http://www.codeproject.com/WebServices/ArticleRSS.aspx?cat=23" />
<link rel="alternate" type="application/rss+xml" title="CodeProject Latest articles - Mobile" href="http://www.codeproject.com/WebServices/ArticleRSS.aspx?cat=18" />
<link rel="alternate" type="application/rss+xml" title="CodeProject Lounge Postings" href="http://www.codeproject.com/webservices/LoungeRSS.aspx" />
<link rel="search" type="application/opensearchdescription+xml" title="CodeProject" href="http://www.codeproject.com/info/OpenSearch.xml" />

	<base target="_top" />
	<link rel="icon" href="/favicon.ico" type="image/ico" >
<link rel="shortcut icon" href="/favicon.ico"  type="image/ico" >
<link rel="apple-touch-icon" href="/images/FavIcon-Apple.png" type="image/png" >
<script type="text/javascript" language="Javascript">//<![CDATA[
function defrm () { /* thanks twitter */ document.write = ''; window.top.location = window.self.location;  setTimeout(function() { document.body.innerHTML = ''; }, 0);  window.self.onload = function(evt) { document.body.innerHTML = ''; }; }if (window.top !== window.self) {  try {  if (window.top.location.host) { /* will throw */ } else { defrm(); /* chrome */ }  } catch (ex) { defrm(); /* everyone else */ } }if (typeof(DemoUrl)!='undefined')   document.write(unescape('%3Cme')+'ta http'+'-equiv="re'+'fresh"                  con'+'tent="1;url='+DemoUrl+unescape('"%3CE'));
function _dmBootstrap(file) { var _dma = document.createElement('script');  _dma.type = 'text/javascript'; _dma.async = true;  _dma.src = ('https:' == document.location.protocol ? 'https://' : 'http://') + file; (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(_dma);}
function _dmFollowup(file) { if (typeof DMAds === 'undefined')  _dmBootstrap('cdn2.developermedia.com/a.min.js?dt=2.8.140609.1');}
(function () { _dmBootstrap('cdn1.developermedia.com/a.min.js?dt=2.8.140609.1'); setTimeout(_dmFollowup, 2000);})();

//]]>
</script>

	




<script type="text/javascript">
	var _gaq = _gaq || [];
	_gaq.push(['_setAccount', 'UA-1735123-1']);
	_gaq.push(['_trackPageview']);
	_gaq.push(['_setDomainName', 'www.codeproject.com']);
	_gaq.push(['_setSessionTimeout', '1200']); 

	(function () {
		var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
		ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
		(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(ga);
	})(); 
</script>


</head>	

<body class="firefox firefox29">

<a class="access-link" href="#Main"><img alt="Click here to Skip to main content" src="/Images/t.gif" /></a>





<div class="page-background">

	
	

	
<div class="alert-bar  overlay " style="display: none;">
	<a href="#" class="close-notify">Ã—</a>
	<div>Sign up for our free weekly <a href="/feature/web-newsletter">Web Developer Newsletter</a>.</div>
</div>

	<table id="ctl00_Bn" style="width:100%;height:135px" cellpadding="0" cellspacing="0" class="banner fixed">
	<tr valign="bottom">
		<td class="blank-background" style="height:31px">&nbsp;</td>
		<td class="blank-background" rowspan="3" style="width:250px;height:135px"><a href="/"><img id="ctl00_Logo" tabindex="1" title="CodeProject" src="http://s.codeproject.com/App_Themes/CodeProject/Img/logo250x135.gif" alt="Home" style="height:135px;width:250px;border-width:0px;" /></a></td>
		<td class="blank-background align-right" style="width:728px;height:31px">

<div class="container memberbar clearfix">

	<div id="ctl00_MemberMenu_GenInfo" class="float-left">10,661,011 members (41,301 online) &nbsp; &nbsp; </div>

	<div class="float-left">
		
	</div>

	<div class="float-right">

        <span id="ctl00_MemberMenu_WorkspaceMenu" class="tooltip">
            <a href="http://workspaces.codeproject.com?from=topbar"><img 
                src="/images/workspaces32.png" height="16px" width="110px" 
                style="border:0;margin: -2px 25px 0 0;vertical-align:middle" /></a>

            <div class="tooltip-flyout workspaces">

                <h3>CodeProject::Workspaces</h3>
                <p class=bold>Code. Collaborate. Organize.</p>
	                <div class="list-item"><a href="https://workspaces.codeproject.com?from=topbar-menu">Workspaces Home</a></div>
	                <div class="list-item"><a href="http://www.codeproject.com/Forums/1854922/Workspaces-Forum.aspx">Discuss Workspaces</a></div>
                <p style='margin-top:10px' class=bold>No Limits. <a href="https://workspaces.codeproject.com">Try it Today.</a></p>
			</div>
		</span>

		

		

		

			<script type="text/javascript">//<!--
			function doSubmit(secure)
			{
				if (secure)
					document.subForm.action = "https://www.codeproject.com/script/Membership/LogOn.aspx?rp=%2fArticles%2f18601%2fAn-easy-way-to-use-certificates-for-WCF-security"
				else
					document.subForm.action = "https://www.codeproject.com/script/Membership/LogOn.aspx?rp=%2fArticles%2f18601%2fAn-easy-way-to-use-certificates-for-WCF-security"
				document.subForm.submit();
				return true;
			}//-->
			</script>

			<a name="SignUp"></a>
			<span class="member-signin tooltip openable">
				<span><a href="https://www.codeproject.com/script/Membership/LogOn.aspx?rp=%2fArticles%2f18601%2fAn-easy-way-to-use-certificates-for-WCF-security">Sign in</a></span>

				<div class="tooltip-flyout">
					<form name="subForm" id="subForm" action="https://www.codeproject.com/script/Membership/LogOn.aspx?rp=%2fArticles%2f18601%2fAn-easy-way-to-use-certificates-for-WCF-security" method="post" 
						class="tight">

						
						<input id="FormName" name="FormName" value="MenuBarForm" type="hidden" />

						<div>Email</div>
						<div><input class="small-text" type="email" name="Email" id="Email" /></div>
						<div>Password</div>
						<div><input class="small-text" type="password" name="Password" id="Password" /></div>
						<div class="action">
							
<script type="text/javascript">
function Join(){
 var url = 'http://www.codeproject.com/script/Membership/Modify.aspx?meml=' + document.subForm.Email.value;
 document.location.href=url;return false;
}
document.write('<input type="button" class="create"   onclick="return Join();" value="Join"');
document.write('<input type="hidden" name="fld_quicksign"   value="true" />');
</script>
							<input type="submit" value="Sign in" class="signin" 
								onclick="return doSubmit(false);" />
						</div>

						<div class="container">
							
							&nbsp;
							<a id="ctl00_MemberMenu_SendPassword" class="forgot float-right" href="/script/Membership/SendPassword.aspx?rp=%2fArticles%2f18601%2fAn-easy-way-to-use-certificates-for-WCF-security">Forgot your password?</a>
						</div>
					</form>

					<hr class="divider-dark" />

					Sign in using <a class="oauth" title="Sign in using Facebook" href="/script/Membership/OAuthLogOn.aspx?auth=Facebook"><img src="/script/Membership/Images/facebook.png" style="vertical-align:middle;padding-right:3px;border:0;" /></a>
<a class="oauth" title="Sign in using Google" href="/script/Membership/OAuthLogOn.aspx?auth=Google"><img src="/script/Membership/Images/google-plus.png" style="vertical-align:middle;padding-right:3px;border:0;" /></a>
<a class="oauth" title="Sign in using Linkedin" href="/script/Membership/OAuthLogOn.aspx?auth=LinkedIn"><img src="/script/Membership/Images/linkedin.png" style="vertical-align:middle;padding-right:3px;border:0;" /></a>

				</div>
		
	</div>
</div></td>
		<td class="blank-background" style="height:31px">&nbsp;</td>
	</tr>
	<tr valign="middle">
		<td class="theme1-background" style="height:94px">&nbsp;</td>
		<td class="theme1-background ad"><div class="msg-728x90" data-format="728x90" data-type="ad" data-publisher="lqm.codeproject.site" data-zone="ros"  data-tags='VS2005, C#2.0, .NET3.0, ASP.NET, Windows, Dev, WCF, WebForms, Intermediate,rating4.5'></div></td>
		<td class="theme1-background" style="height:94px">&nbsp;</td>
	</tr>
	<tr valign="top">
		<td style="height: 14px;"></td>
		<td style="height: 14px;" class="blank-background"></td>
		<td style="height: 14px;"></td>
	</tr>
</table>


	<a href="#Main"><img alt="Click here to Skip to main content" class="access-link" 
		src="/Images/t.gif" /></a>

	
	<div id="ctl00_TPR" class="sub-headerbar fixed">
	<table cellpadding="0" cellspacing="0" class="extended"><tr><td nowrap="nowrap">
		

<div class="navbar clearfix">
<ul class="navmenu openable">

<li><a id="ctl00_TopNavBar_Home" href="http://www.codeproject.com">home</a>


<li class="openable"><a id="ctl00_TopNavBar_Art" class="down selected" href="/script/Articles/Latest.aspx">articles</a>

	<ul>
		<li class="openable"><a id="ctl00_TopNavBar_ArtTopicList" class="fly" onmouseover="navBarMenu.ShowMap(this, &#39;ctl00_TopNavBar_MapFlyout&#39;);" href="/script/Content/SiteMap.aspx">Chapters and Sections<span class="has-submenu">&gt;</span></a><ul id="ctl00_TopNavBar_MapFlyout">
			<li>
				<div id="siteMap">
					<img src="/images/animated.gif" alt="loading" style="margin:150px;width:100px;height:100px;" />
				</div>
			</li>
			</ul>
		</li>
		<li><a id="ctl00_TopNavBar_ArtSearch" class="fly break" href="/search.aspx">Search</a></li>
		<li><a id="ctl00_TopNavBar_ArtLatestArts" class="fly" href="/script/Articles/Latest.aspx?at=1,3,7">Latest Articles</a></li>
		<li><a id="ctl00_TopNavBar_ArtLatestTips" class="fly" href="/script/Articles/Latest.aspx?at=6">Latest Tips/Tricks</a></li>
		<li><a id="ctl00_TopNavBar_ArtTop" class="fly" href="/script/Articles/TopArticles.aspx?ta_so=5">Top Articles</a></li>
		<li><a id="ctl00_TopNavBar_ArtBeginner" class="fly" href="/search.aspx?aidlst=152&amp;sa_us=True">Beginner Articles</a></li>
		<li><a id="ctl00_TopNavBar_ArtBlogArticles" class="fly break" href="/script/Articles/BlogArticleList.aspx">Technical Blogs</a></li>
		<li><a id="ctl00_TopNavBar_ArtGuide" class="fly" href="/info/Submit.aspx">Posting/Update Guidelines</a></li>
		<li><a id="ctl00_TopNavBar_ArtHelpForum" class="fly" href="/Forums/1641/Article-Writing.aspx">Article Help Forum</a></li>
		<li><a id="ctl00_TopNavBar_ArtCompetition" class="fly break" href="/script/Awards/CurrentCompetitions.aspx?cmpTpId=1">Article Competition</a></li>
		<li><a id="ctl00_TopNavBar_ArtPostArticle" class="fly highlight1" href="/script/Articles/Submit.aspx">
			<img src="/images/write-gr.png" width="19px" height="13px" /> Submit an article or tip
			</a></li>
		<li><a id="ctl00_TopNavBar_ArtPostBlog" class="fly highlight2" href="/script/Articles/BlogFeed.aspx">
			<img src="/images/write-or.png" width="19px" height="13px" /> Post your Blog
			</a></li>		<li class="last"></li>
	</ul>

</li>



<li class="openable"><a id="ctl00_TopNavBar_Answers" href="/script/Answers/List.aspx?tab=active">quick answers</a>
	<ul>
		<li id="ctl00_TopNavBar_AQL"><a id="ctl00_TopNavBar_ArticleQuestion" class="fly highlight1" href="#_comments">
			<img src="/images/write-gr.png" width="19px" height="13px" /> Ask a Question about this 
			article</a>
		</li>

		<li><a id="ctl00_TopNavBar_QAAsk" class="fly highlight2" href="/Questions/ask.aspx"><img 
			src="/images/write-or.png" width="19px" height="13px" /> Ask a Question</a></li>

		
		<li><a id="ctl00_TopNavBar_QAUnanswered" class="fly" href="/script/Answers/List.aspx?tab=unanswered">View Unanswered Questions</a></li>
		<li><a id="ctl00_TopNavBar_QALatest" class="fly" href="/script/Answers/List.aspx?tab=active">View All Questions...</a></li>
		
				<li><a id="ctl00_TopNavBar_QATR_ctl00_Tag" class="fly" href="/script/Answers/List.aspx?tab=active&amp;alltags=true&amp;tags=81" style="padding-left:30px">C# questions</a></li>
			
				<li><a id="ctl00_TopNavBar_QATR_ctl01_Tag" class="fly" href="/script/Answers/List.aspx?tab=active&amp;alltags=true&amp;tags=85" style="padding-left:30px">ASP.NET questions</a></li>
			
				<li><a id="ctl00_TopNavBar_QATR_ctl02_Tag" class="fly" href="/script/Answers/List.aspx?tab=active&amp;alltags=true&amp;tags=842" style="padding-left:30px">VB.NET questions</a></li>
			
				<li><a id="ctl00_TopNavBar_QATR_ctl03_Tag" class="fly" href="/script/Answers/List.aspx?tab=active&amp;alltags=true&amp;tags=308" style="padding-left:30px">C#4.0 questions</a></li>
			
				<li><a id="ctl00_TopNavBar_QATR_ctl04_Tag" class="fly" href="/script/Answers/List.aspx?tab=active&amp;alltags=true&amp;tags=87" style="padding-left:30px">Javascript questions</a></li>
			
		<li class="last"></li>
	</ul>

</li>



<li class="openable"><a id="ctl00_TopNavBar_Forums" href="/script/Forums/List.aspx">discussions</a>

	<ul>
		<li><a id="ctl00_TopNavBar_MessageBoardsAll" class="fly" href="/script/Forums/List.aspx">All Message Boards...</a></li>
		<li class="openable"><a class="fly" style="padding-left:30px" href="/Forums/1580997/Application-Lifecycle.aspx">Application Lifecycle<span class="has-submenu">&gt;</span></a>
<ul class="openable"><li><a class="fly" href="/Forums/1533717/Running-a-Business.aspx">Running a Business</a></li>
<li><a class="fly" href="/Forums/1533716/Sales-Marketing.aspx">Sales / Marketing</a></li>
<li><a class="fly" href="/Forums/1651/Collaboration-Beta-Testing.aspx">Collaboration / Beta Testing</a></li>
<li><a class="fly" href="/Forums/3304/Work-Training-Issues.aspx">Work &amp; Training Issues</a></li>
</ul></li>
<li><a class="fly" style="padding-left:30px" href="/Forums/369270/Design-and-Architecture.aspx">Design and Architecture</a>
</li>
<li><a class="fly" style="padding-left:30px" href="/Forums/12076/ASP-NET.aspx">ASP.NET</a>
</li>
<li><a class="fly" style="padding-left:30px" href="/Forums/1580226/JavaScript.aspx">JavaScript</a>
</li>
<li class="openable"><a class="fly" style="padding-left:30px" href="/Forums/1647/C-Cplusplus-MFC.aspx">C / C++ / MFC<span class="has-submenu">&gt;</span></a>
<ul class="openable"><li><a class="fly" href="/Forums/4486/ATL-WTL-STL.aspx">ATL /  WTL / STL</a></li>
<li><a class="fly" href="/Forums/3785/Managed-Cplusplus-CLI.aspx">Managed C++/CLI</a></li>
</ul></li>
<li><a class="fly" style="padding-left:30px" href="/Forums/1827459/Adobe-Technologies.aspx">Adobe Technologies</a>
</li>
<li><a class="fly" style="padding-left:30px" href="/Forums/1649/Csharp.aspx">C#</a>
</li>
<li><a class="fly" style="padding-left:30px" href="/Forums/1627782/Free-Tools.aspx">Free Tools</a>
</li>
<li><a class="fly" style="padding-left:30px" href="/Forums/1827460/Objective-C.aspx">Objective-C</a>
</li>
<li><a class="fly" style="padding-left:30px" href="/Forums/1832431/Ruby-On-Rails.aspx">Ruby On Rails</a>
</li>
<li><a class="fly" style="padding-left:30px" href="/Forums/1725/Database.aspx">Database</a>
</li>
<li class="openable"><a class="fly" style="padding-left:30px" href="/Forums/186301/Hardware-Devices.aspx">Hardware &amp; Devices<span class="has-submenu">&gt;</span></a>
<ul class="openable"><li><a class="fly" href="/Forums/1644/System-Admin.aspx">System Admin</a></li>
</ul></li>
<li><a class="fly" style="padding-left:30px" href="/Forums/1606152/Hosting-and-Servers.aspx">Hosting and Servers</a>
</li>
<li><a class="fly" style="padding-left:30px" href="/Forums/1643/Java.aspx">Java</a>
</li>
<li><a class="fly" style="padding-left:30px" href="/Forums/1650/NET-Framework.aspx">.NET Framework</a>
</li>
<li><a class="fly" style="padding-left:30px" href="/Forums/1848626/Android.aspx">Android</a>
</li>
<li><a class="fly" style="padding-left:30px" href="/Forums/13695/Mobile.aspx">Mobile</a>
</li>
<li><a class="fly" style="padding-left:30px" href="/Forums/1540733/Sharepoint.aspx">Sharepoint</a>
</li>
<li><a class="fly" style="padding-left:30px" href="/Forums/1004257/Silverlight-WPF.aspx">Silverlight / WPF</a>
</li>
<li><a class="fly" style="padding-left:30px" href="/Forums/1646/Visual-Basic.aspx">Visual Basic</a>
</li>
<li><a class="fly" style="padding-left:30px" href="/Forums/1640/Web-Development.aspx">Web Development</a>
</li>
<li><a class="fly" style="padding-left:30px" href="/suggestions.aspx">Site Bugs / Suggestions</a>
</li>

		<li class="last"></li>
	</ul>

</li>




<li class="openable"><a id="ctl00_TopNavBar_Features" href="/Feature/">features</a>

	<ul>
        
		<li><a id="ctl00_TopNavBar_CPTV" class="fly highlight1" href="http://CodeProject.TV"><img src="/images/CPTV-24.png" width="24px" 
                height="24px" alt="CP.TV" style="vertical-align:text-bottom"/>CodeProject.TV</a></li>
        <li><a id="ctl00_TopNavBar_DiscussCPTV" class="fly break" href="/Forums/1829610/CodeProject-TV.aspx">Discuss CodeProject.TV</a>
		<li><a id="ctl00_TopNavBar_Catalog" class="fly" href="/script/Catalog/List.aspx">Component & Service Catalog</a></li>
		<li><a id="ctl00_TopNavBar_Comps" class="fly" href="/script/Awards/CurrentCompetitions.aspx?cmpTpId=1&amp;awsac=true">Competitions</a></li>
		<li><a id="ctl00_TopNavBar_News" class="fly" href="/script/News/List.aspx">News</a></li>
		<li><a id="ctl00_TopNavBar_Insider" class="fly" href="/Feature/Insider/">The Insider Newsletter</a></li>
    	<li><a id="ctl00_TopNavBar_DailyBuild" class="fly" href="/Feature/DailyBuild">The Daily Build Newsletter</a></li>
		<li><a id="ctl00_TopNavBar_Newsletters" class="fly" href="/script/Mailouts/Archive.aspx?mtpid=1">Newsletter archive</a></li>
		<li><a id="ctl00_TopNavBar_Surveys" class="fly" href="/script/Surveys/List.aspx">Surveys</a></li>
		<li><a id="ctl00_TopNavBar_Showcase" class="fly" href="/KB/showcase/">Product Showcase</a></li>
		<li><a id="ctl00_TopNavBar_Research" class="fly" href="/script/ResearchLibrary/Index.aspx">Research Library</a></li>

		
		<li><a id="ctl00_TopNavBar_Stuff" class="fly" href="/Info/Stuff.aspx">CodeProject Stuff</a></li>
		<li class="last"></li>
	</ul>

</li>


<li  class="openable"><a id="ctl00_TopNavBar_Lounge" href="/Lounge.aspx">community</a>

	<ul>
		<li><a id="ctl00_TopNavBar_InsiderLnk" class="fly" href="/Insider.aspx">The Insider News</a></li>
		<li><a id="ctl00_TopNavBar_LoungeLnk" class="fly" href="/Lounge.aspx">The Lounge Â </a></li>
		<li><a id="ctl00_TopNavBar_WeirdWonderful" class="fly" href="/Feature/WeirdAndWonderful.aspx">The Weird & The Wonderful</a></li>
		<li><a id="ctl00_TopNavBar_SoapBoxLnk" class="fly" href="/Forums/1536756/The-Soapbox.aspx">The Soapbox</a></li>
		<li><a id="ctl00_TopNavBar_PRLnk" class="fly break" href="/Forums/1738007/Press-Releases.aspx">Press Releases</a></li>
		<li><a id="ctl00_TopNavBar_WhosWho" class="fly" href="/script/Membership/Profiles.aspx">Who's Who</a></li>
		<li><a id="ctl00_TopNavBar_MVPs" class="fly" href="/script/Awards/MVPWinners.aspx">Most Valuable Professionals</a></li>
		<li><a id="ctl00_TopNavBar_Companies" class="fly break" href="/script/Membership/Profiles.aspx?mgtid=1&amp;mgm=True">Company Listings</a></li>

		
		<li class="openable"><a class="fly" href="/Forums/1580229/Hindi.aspx">Non-English Language
			<span class="has-submenu">&gt;</span></a>
		<ul>
		<li><a class="fly" href="/Forums/1580229/Hindi.aspx">General Indian Topics</a></li>
		<li><a class="fly" href="/Forums/1580230/Chinese.aspx">General Chinese Topics</a></li>
		</ul>
		<li class="last"></li>
		
	</ul>

</li>


<li class="openable" style="margin-left:20px"><a id="ctl00_TopNavBar_Help" href="/KB/FAQs/">help</a>

	<ul>
		<li><a id="ctl00_TopNavBar_HelpWhatIs" class="fly" href="/info/guide.aspx">What is 'CodeProject'?</a></li>
		<li><a id="ctl00_TopNavBar_HelpGeneral" class="fly break" href="/KB/FAQs/">General FAQ</a></li>
		<li><a id="ctl00_TopNavBar_HelpPostQuestion" class="fly break highlight1" href="/Questions/ask.aspx">Ask a Question</a></li>
		<li><a id="ctl00_TopNavBar_HelpBugs" class="fly" href="/suggestions.aspx">Bugs and Suggestions</a></li>
		<li><a id="ctl00_TopNavBar_HelpArticles" class="fly" href="/Forums/1641/Article-Writing.aspx">Article Help Forum</a></li>
		<li><a id="ctl00_TopNavBar_HelpSiteMap" class="fly" href="/script/Content/SiteMap.aspx">Site Map</a></li>
		<li><a id="ctl00_TopNavBar_HelpAdvertise" class="fly" href="http://developermedia.com/">Advertise with us</a></li>
		<li><a id="ctl00_TopNavBar_HelpJobs" class="fly" href="/info/Jobs/">Employment Opportunities</a></li>
		<li><a id="ctl00_TopNavBar_HelpAboutUs" class="fly" href="/info/about.aspx">About Us</a></li>
		<li class="last"></li>
	</ul>

</li>

</ul>

</div>
	</td><td align="right">
		

<div class="searchbar">

<form method="get" action="/search.aspx" name="Search" class="tight">


<table border="0" cellspacing="0" cellpadding="0" class="search"><tr><td><input TabIndex="2" class="search " id="sb_tb" value="" name="q" /></td><td><input type="image" src="/images/search.gif" /></td></tr></table>

<div class="hover-container">
	<div id="SearchFilter" class="search-advanced popup small-text align-left">
	<b>Search within:<br /></b>
		
		<input type="radio" id="sb_kw" name="sbo" value="kw" checked="true"><label for="sb_kw">Articles</label><br>
<input type="radio" id="sb_sws" name="sbo" value="sws"><label for="sb_sws">Workspaces</label><br>
<input type="radio" id="sb_vkw" name="sbo" value="vkw"><label for="sb_vkw">Videos</label><br>
<input type="radio" id="sb_qa" name="sbo" value="qa"><label for="sb_qa">Quick Answers</label><br>
<input type="radio" id="sb_fm" name="sbo" value="fm"><label for="sb_fm">Messages</label><br>
<input type="radio" id="sb_ctlk" name="sbo" value="ctlk"><label for="sb_ctlk">Product Catalog</label><br>


		
		
	</div>
</div>
</form>

</div>
	</td></tr></table>
	<div class="sub-headerbar-divider"></div>
	</div>
	

	<div id="A" class="container-content-wrap fixed"> 

	<div itemscope itemtype="http://schema.org/Article" class="container-content"> 

		<div class="clearfix">
			<div class="float-left container-breadcrumb">
				<div><a href="/script/Content/SiteMap.aspx">Articles</a> &#187; <a href="/Chapters/8/Platforms-Frameworks-Libraries.aspx">Platforms, Frameworks & Libraries</a> &#187; <a href="/KB/WCF/"><span itemprop="articleSection">Windows Communication Foundation</span></a> &#187; <a href="/KB/WCF/#Security">Security</a></div>
			</div>

			<div class="align-left float-right padded-top">
				


 
&nbsp;










			</div>

			<div class="float-right container-breadcrumb article-nav">
				
<div class="">


<a id="ctl00_PrevNext_NextLink" title="Next" href="/script/Articles/PrevNextLookup.aspx?aid=18601&amp;at=1&amp;secId=103" style="margin-left:5px">Next</a>
<img id="ctl00_PrevNext_NextImg" title="Next" rel="nofollow" src="/Images/arrow-right.png" style="border-width:0px;vertical-align:bottom;" />
</div>
			</div>

			<div class="align-right float-left">
				
			</div>
		</div>

		<table class="extended container-article-parts" cellpadding="0" cellspacing="0"><tr valign="top">
		<td>

			<div id="ctl00_Nav" class="container-article-tabs">
				<div class="tabs">
					

<div class="">
	<div class="selected">Article</div><div class="unselected"><a href="/script/Articles/ViewDownloads.aspx?aid=18601">Browse Code <img alt="Workspaces" src="/images/git-icon.png" style="width:18px;height:18px;vertical-align:middle" /></a></div><div class="unselected"><a href="/script/Articles/ViewTasks.aspx?aid=18601">Bugs / Suggestions</a></div><div class="unselected"><a href="/script/Articles/Statistics.aspx?aid=18601">Stats</a></div><div class="unselected"><a href="/script/Articles/ListVersions.aspx?aid=18601">Revisions</a></div><div class="unselected"><a href="/script/Articles/ListAlternatives.aspx?aid=18601">Alternatives</a></div>

	<!-- anchorLink used to auto-link to comments at end of article -->
	<div class="unselected"><a href="WebControls/#_comments" id="ctl00_ArticleTabs_CommentLink" class="anchorLink">Comments 
        <span id="ctl00_ArticleTabs_CmtCnt">(63)</span></a>
	</div>

    <div id="ctl00_ArticleTabs_WorkspaceLinks" class="related-link-box padded-top unselected">

        
            
        
        <div><a href="https://workspaces.codeproject.com/davide-icardi/an-easy-way-to-use-certificates-for-wcf-security" id="ctl00_ArticleTabs_WorkspaceLink" class="offblack bold">View this article's 
            Workspace</a></div>
        <div><a href="https://workspaces.codeproject.com/davide-icardi/an-easy-way-to-use-certificates-for-wcf-security/fork" id="ctl00_ArticleTabs_WorkspaceFork">Fork this Workspace</a></div>
	</div> 
</div>	

				</div>

				

	    		
				<div>
					

<div class="social-bookmarks">
<h3>Share</h3>
<div class="popup-bar">
    <div class="linkedin-icon"></div>
    <div class="popup-bar-flyout">
        <span class="linkedin"><script src="//platform.linkedin.com/in.js" type="text/javascript">
lang: en_US
</script>
<script type="IN/Share" data-counter="right" data-showzero="true"></script></span>
    </div>
</div>
<div class="popup-bar">
    <div class="google-icon"></div>
    <div class="popup-bar-flyout">
        <span class="google"><div class="g-plusone" data-size="medium"></div></span>
    </div>
</div>
<div class="popup-bar">
    <div class="facebook-icon"></div>
    <div class="popup-bar-flyout">
        <span id="fb-wrap" class="facebook" style=";overflow:hidden"><div id="fb-root"></div><div class="fb-like" data-href="http://www.codeproject.com/Articles/18601/An-easy-way-to-use-certificates-for-WCF-security" data-send="false" data-layout="button_count" data-width="450"  data-show-faces="false" data-font="segoe ui"></div></span>
    </div>
</div>
<div class="popup-bar">
    <div class="twitter-icon"></div>
    <div class="popup-bar-flyout">
        <span class="twitter"><a href="https://twitter.com/share" class="twitter-share-button" data-hashtags="CodeProject"></a></span>
    </div>
</div>

</div>
				</div> 
    			

			</div>

		</td>
		<td>
			
			<div id="AT" class="container-article  fixed"> 
				<div class="article">

                    
					<form name="aspnetForm" method="post" action="/Articles/18601/An-easy-way-to-use-certificates-for-WCF-security" id="aspnetForm" style="margin:0;padding:0">
<div>
<input type="hidden" name="__VIEWSTATE" id="__VIEWSTATE" value="zT1dFJrSimwy99JbGGEznqopZ2fto9dzUAvBoToEhMbAriCK0XMZq8IIRNTNuzG+27gCv9pXfYT3HTj9xeRiDBkyMz+2oMU+jCV603moutDVp8rsuJMjBDhXUtYZKYuzg/emVEWwGh88eVn+bj2iaM2H9o6YgJvrpxqDa3Y4qrRKs5zIC7P5Hw2NTYvqmtMlBGz+NQKSMJyow3xcyeW6y9wuVnooAMVczZkNJhSrLTokGZ+MX0qIxN5ynQVmPmOTTxQITwAeB+uy75t7alp7XXNacihb5NzxE4CSCxBfNru7rIygF0f1J2IzIpUw7UOCSAS3OPXoKyQsqpyHzT83Z1b9tk1bnUwpOazvfCrEIO5zRyHfMx8oOPZwd68xFHxQVSCE5tKKBPmfmNnoxCf10mjc6aPsdoTKTmKPD9wMgg0dQwZCnK7V36L4Jycbgoe/8bJGgmbr3K4TqVW2XehAoxMyJuCY9Im4Ib22hbYAmUpTrsVSLJk5YzAOyUTB3Scrrb2O9/8Rq4ZQ/UHxkrsXV/UTkmKs8PcoeoU9HGLhF4Wj+5evvb2Bitl9GbAIGG/y81S4hxwVUXDjP9pxvUVIs55jWohNu50SK8VSl1MyHrEODkPrR9bUlLRlusJdCL0xnURGw33D+rXXpgc0FvAfX0WPTAbghz+7VChz83u9g7igWVO8UNpC2e69dIOOxqz3X7ecjT15oEZJYEsuvcjv+0a+MDhngJ8Gqy9HN1Oy5ZtkZbDYn7Lu+Cn/KLPmjXIZSTsopGtTOhXTHB9nT8dcmF11Hiu+wGfQ2H6ZdSm523fXyTmHbOgGyq6w3++68ECvLy3cSI5V1PiaYkaANnwE8hOwTcLVm7OhKpwHc0jf4JF9txiLupvf0OYJBhHQBCAru3eiwDEEveXJUgeQlE9YJhjMDORkxuor+0Lc87R0eCD6F0Gu1OsOegc/QPjxV3QJNMop4rdDD5xvBHlU07Mc6vesYEzY3WmUv6MMr2F9H6lJRLHl8WEOtSFiBTgEGWzsrjox1z3XsBORkADTE9gXTpYyeLA2epXAyqCpNMuRXJyW7AEvDRp5w71nZygYpFrTHkwjCJ21GyEBI9Nc1Kj/yzXQV6ZPZSYVbUn7BSxiGPXASQohIKoupbDA6iFgDHk5rRbyLarcJ66cD/9I9YTj9Ra+SHC56BBCd1ojLUazyFtBJFRYCY/9EtGrmzr53f+UKF77HqiIk8pQabcRi5dvWHWmxM+dugr22OWYymk1BwoYvNV6r9bekOJPcbwfvOHQWkrYOj0rrh4brqu1rq6DZ1JLcX1NlLcVsKuiEhfSbb2uZVEEb7YeoL7wo9SUmN2RxumamK5cb3Ra6WlCTfeqepKHwkIbgZgfRvI8wREffpGv8VIOzPQVuU8MSk5ZXIX8HoGds7fRRcSUsPiFs4l7Fim5jcoPtsaSuMB3A4z+rQnLZTbEohJ17l6yGFIXjZ4AC9EK3C+KJCfCZZZV7tQod9aNJe4R0TfB0FCOvH2kUWkNDzngrE8B4PvXgIx2bNv3HfDjvNfDwMP88An5Q2tBNeyG3cLhzhwsZpR0CxuOYoVKFWF8UDakwYUCz6Bip5NqtLhry0APFMU220VL/XFs8K0aIkzNwoMkcgW343TCR/rE852RUvFBWn93BimhYzcizgHeTpSHkglxU7M1MfMF6wXqUKBZtrhePpWO2bBcwCzZKi5vN0ZcW7lMGPW+fnxs8TCH/ptpq/K5k0yMZxNsStJJ+xF0Abb4kWrw2dfAJ470cQvZvjs9bxKiktPKgr/6FrkR4AT4USrwYBeyZi5cLnSKMD9k33ErbW+atjpU0BbzdVB/9JPUFsYjlnllKge2Io2r/0Ol0W4Tqt0up+EpokBsKVUuCY2wlJqhGQam8qAYKv2QQyz8TB2t8UzQcNLCcfrd/ZGt6/d3p17HWnTbv38J4Ye50OXXUkFqGqs1O8sV84mGQU3d94Q/RDJeW6B5JgQTXTiMahpf6R1mZeunwiQxjeAo+8ClJ8LTZ0mQ9Fz8eJ2JQV7HQz44oB7TY+duBH2YZeg2pMu2Hma0/RvByr5HoATLhxe6UA7gFLNnO+WfwVi0i5TGpsz+rFoI0rkH81S2e1BM6AoHKbn/9mBRpIV90YJwt8g+zlLNc8cjAeAB3D7f69XxAmKfH+PuR3C2MlCnYKsHQ4U/1juXm4u5+yQMHeqIzF7qqgzEjdOU6eR22+D0A3Npt3jsAyLOD3KmEp8xBSk7btWAsDRkl5L7xar5iBvb6FIyXno84ls9tvVkJFnXgqSXKQqu2FCPzl0XzXF3XU9Sb9QLtcjQwJbsTRyaE3Sjyro0rKQKss0Er1v0W0LVFjXzJhsIDC3rm3PRuyCcsSyIgWY1en9X5birYF9D07CF9rXJWQ8lHk0EtKxIVxE4jINRcoZqS6z43002pqyjEWZyCRoomA2LHAqsUxIekDgL8W79mxlMGkgaBLGRCecG" />
</div>


					
					 
					<div class="header">

					<a name="Main"></a>

					
					<a name="_articleTop" id="_articleTop"></a>
					<div class="title">
					
					
					<h1 id="ctl00_ArticleTitle" itemprop="name">An easy way to use certificates for WCF security</h1> 
					</div>

					
					<div class="entry">
						By <span class="author"><a href="/script/Membership/View.aspx?mid=92805" rel="author"><span itemprop="author" itemscope itemtype="http://schema.org/Person"><span itemprop="name">Davide Icardi</span></span></a></span>, 
						<span class="date" itemprop="dateModified" content="2007-04-30 15:34:00">
							30 Apr 2007</span>
			
									
					</div>

					
					<table class="voting-bar"><tr><td nowrap="nowrap">
						<div id="ctl00_CurRat" class="tooltip anchorLink" style="cursor:pointer" name="CurRat_18601">
				
							

<table cellpadding="0" cellspacing="0" class="small-text" itemprop="aggregateRating" itemscope itemtype="http://schema.org/AggregateRating"> 
<tr>
	
	<td class="nowrap">

		
			<meta itemprop="bestRating" content="5"> 
			<meta itemprop="worstRating" content="1">
		

		<span id="ctl00_ArticleRating_VI">
		<div class="nowrap rating-stars-large" style="height:21px;width:119px;position:relative;">
	<div class="clipped align-left float-left" style="height:19px;width:113px;">
		<img src="http://s.codeproject.com/script/Ratings/Images/stars-fill-lg.png" style="border-width:0px;" />
	</div><div class="clipped" style="height:19px;width:6px;position:relative;">
		<img src="http://s.codeproject.com/script/Ratings/Images/stars-empty-lg.png" style="border-width:0px;position:absolute;top:0;right:0;" />
	</div>
</div>
		</span>

		
	</td>
	
	<td id="ctl00_ArticleRating_VR" class="nowrap">
		&nbsp;
		<span id="ctl00_ArticleRating_VotesR">&nbsp;<span itemprop="ratingValue" class="rating">4.70</span> (<span itemprop="ratingCount" class="count">35</span> votes)</span>
		
	</td>

</tr>

</table>


							<div id="ctl00_RB" class="speech-bubble-container-up">
								<div class="speech-bubble-up" style="width:150px !important">
									            
<div>
<table class="feature" width="100%" height="50px" title="Voting Distribution. Recent data only" cellpadding="0" cellspacing="0"><tr class="chart-row"><td class="chart-column rating-ignore-vote" title="Outside deviation limits - not included in score."><img src="/script/Ratings/Images/pollcol.gif" width="20pxpx" height="1px" border="0px" alt="1 vote, 2.9%" title="1 vote, 2.9%" /><br /><span title="1 vote">1</span></td>
<td class="chart-column rating-ignore-vote" title="Outside deviation limits - not included in score."><img src="http://s.codeproject.com/Images/t.gif" width="20pxpx" height="1px" border="0px" alt="" title="" /><br /><span title="0 votes">2</span></td>
<td class="chart-column rating-ignore-vote" title="Outside deviation limits - not included in score."><img src="http://s.codeproject.com/Images/t.gif" width="20pxpx" height="1px" border="0px" alt="" title="" /><br /><span title="0 votes">3</span></td>
<td class="chart-column"><img src="/script/Ratings/Images/pollcol.gif" width="20pxpx" height="10px" border="0px" alt="6 votes, 17.1%" title="6 votes, 17.1%" /><br /><span title="6 votes">4</span></td>
<td class="chart-column"><img src="/script/Ratings/Images/pollcol.gif" width="20pxpx" height="50px" border="0px" alt="28 votes, 80.0%" title="28 votes, 80.0%" /><br /><span title="28 votes">5</span></td>
</tr></table><div class="small-text align-center">4.70/5 - 35 votes</div><div class="small-text align-center subdue">1 removed</div><div class="small-text align-center subdue">Î¼ 4.58, Ïƒ<sub>a</sub> 1.33 [<a href="/KB/FAQs/RatingReputationFAQ.aspx#noisefilter">?</a>]</div>
</div>
								</div>
								<div class="speech-bubble-pointer-up">
									<div class="speech-bubble-pointer-up-inner"></div>
								</div>
							</div>
						</div>
					</td>
					<td nowrap>
						
					</td>
					<td id="ctl00_RateArticleRow" class="voting-bar">
							
							<div class="float-right align-right">
								<div id="ctl00_RateArticle_RateItemWrapper" class="container-rating small-text" name="RateItem_18601">

	<table width="100%" cellpadding="0" cellspacing="0" class="small-text">
	<tr>
		<td id="ctl00_RateArticle_VoteResultDiv" class="rating-result align-right">
			<span class="align-right"></span>
			<img class="loaderImg" width="16px" alt="loading..." height="16px" 
				src="/Images/animated_loading_blue.gif" style="display:none;" /> 
		</td>

	
		<td class="voteTbl" style="white-space:nowrap" align="right">
			<table class="small-text">
			<tr>
				<td id="ctl00_RateArticle_RateText" class="rating-prompt">
					Rate this:
				</td>

				
				<td id="ctl00_RateArticle_VoteFormDiv" class="nowrap rating-stars-voter-large">
					

					<span id="ctl00_RateArticle_RB" class="tooltip ajaxHist radio voting">
						<span id="ctl00_RateArticle_VoteRBL"><input id="ctl00_RateArticle_VoteRBL_0" type="radio" name="ctl00$RateArticle$VoteRBL" value="1" /><input id="ctl00_RateArticle_VoteRBL_1" type="radio" name="ctl00$RateArticle$VoteRBL" value="2" /><input id="ctl00_RateArticle_VoteRBL_2" type="radio" name="ctl00$RateArticle$VoteRBL" value="3" /><input id="ctl00_RateArticle_VoteRBL_3" type="radio" name="ctl00$RateArticle$VoteRBL" value="4" /><input id="ctl00_RateArticle_VoteRBL_4" type="radio" name="ctl00$RateArticle$VoteRBL" value="5" /></span> 

						
					</span>

				</td>

				
				<td style="padding-left:5px">	
					<input type="submit" name="ctl00$RateArticle$SubmitRateBtn" value="Vote!" id="ctl00_RateArticle_SubmitRateBtn" class="button" />
				</td>
			</tr>
			</table>
			
		</td>
	</tr>
	</table>
	<div class="hover-container">
		
        <div id="ctl00_RateArticle_RSU" class="rating-comment align-left float-right">
            <div class="padded">
            Please <a id="ctl00_RateArticle_SignUp" href="https://www.codeproject.com/script/Membership/LogOn.aspx?rp=%2fArticles%2f18601%2fAn-easy-way-to-use-certificates-for-WCF-security">Sign up or sign in</a> to vote.
            </div>
        </div>
	</div>
</div>
							</div>
												
					</td>

					</tr></table>

					</div>
					
					


					
					

					
					
					

						
					

					

						
						<div id="contentdiv" class="text" itemprop="articleBody">
						



<ul class="download">
<li><a href="/KB/WCF/wcfcertificates/WCFCertificates.zip">Download source and binary - 45 Kb</a> </li>
</ul>

<h2>Introduction</h2>

<p>Security has an important role in any distributed application and Windows Communication Foundation (known as WCF or Indigo), the new Microsoft communication framework, implements many security standards and has a wide range of features available. </p>

<p>One of the most important aspects of security is authentication. WCF can be configured to use many authentication methods:</p>

<ul>
<li>Anonymous caller </li>

<li>User name and password </li>

<li>Certificate </li>

<li>Windows </li>

<li>CardSpace </li>
</ul>

<p>In this article I will show you how to configure WCF with certificates to authenticate service clients and server using an alternative approach.</p>

<p>If you want to exactly understand my implementation, continue reading the next section. If you simply want to understand how to configure WCF using certificates jump directly to the <a href="#Quick_start_tutorial">Quick start tutorial</a> section.</p>

<h2>Background concepts</h2>

<p>The next sections assume that you are familiar with many WCF and security concepts. See the <a href="#External_resources">External resources</a> section if you want to review some of these concepts or for more information.</p>

<h3>The problem</h3>

<p>The use of certificates for authentication is not new, but is still one of the most common way to authenticate a subject. WCF has a built-in support for certificates that conform to the Web Services Security (WS-Security) standards. </p>

<p>The problem with the default configurations and examples available is that all the certificates must be installed in the Certificate Store, which basically is a central location where Windows saves all the certificates (used also for other applications: Internet Explorer, ...).</p>

<p>Why this solution causes some problems? The easy answer is because it is not easy to correctly configure all the certificates. For more details:</p>

<ul>
<li>When you deploy your service to the server you must install in the Certificate Store all the certificates used (in different locations based on the use of the certificate). <br />This operation must be executed using an installation program, a script file or a batch file. For this reason, it is difficult to deploy the application using an xcopy/ClickOnce installation. </li>

<li>Each client must also install the certificate used to authenticate itself always in the Certificate Store. This is easy if you have a small number of clients but very difficult if you must manually configure each computer (in addition, for the client, you can't use an xcopy/ClickOnce installation). </li>

<li>You must give to the running process (like ASP.NET) the permissions to read the certificate private key. This step usually requires changing the file system permission. This again requires a script file or an installation which is not always easy. </li>

<li>If you are using a shared hosting probably you can't install certificates or change certificate permissions. </li>

<li>As a developer I like to have each project isolated from the others. I want to be able to easy test different configurations or applications, I like to simply download the latest version from the code repository and run it, without any special configuration. Using the Certificate Store I must always remember to install or uninstall the certificates each time. </li>
</ul>

<p>At the following MSDN page you can see an example of a configuration using certificates and a description of how to install certificates using the classic solution: <a href="http://msdn2.microsoft.com/en-us/library/ms751516.aspx" target="_blank">MSDN: Message Security Certificate</a>.</p>

<p>These are the reasons behind my decision to try a different approach that I will describe in the following sections.</p>

<h3>The solution</h3>

<p>My goal is to find an easy way to use certificates without using Certificate Store. WCF can be easily extended; in this article I will show you how to extend WCF to load the certificates from files.</p>

<p>I known that storing certificates on the file system is less secure, but I think that with some attention this can be a useful alternative. See the <a href="#Disadvantages">Disadvantages</a> section for a discussion of the possible problems of my approach.</p>

<p>Consider that with my solution, I simply change how the certificates are loaded, all the advantages of using WCF (standards, proved code, ...) are still valid. Most important you must still use most of the settings required to use certificates. For a complete and working example, I suggest to look at the sample project in the zip file or follow the <a href="#Quick_start_tutorial">Quick start tutorial</a> section to implement this solution on your own project.</p>

<p>To understand how this solution works, continue reading the next section.</p>

<h2>Implementation details</h2>

<p>Loading a certificate from a file is quite easy, you must simply use the <code>System.Security.Cryptography.X509Certificates.X509Certificate2</code> class:</p>

<pre lang="cs"><span class="code-comment">//</span><span class="code-comment">Load the certificate from a file
</span>X509Certificate2 certificate =
        <span class="code-keyword">new</span> X509Certificate2(fullpath, password);    </pre>

<p>The first parameter is the path of the certificate file, the second parameter is the password used to encrypt the private key (if present). </p>

<p>With <code>X509Certificate2</code> class you can load 2 kinds of files:</p>

<ul>
<li><em>.cer</em> file - Used to store a public key </li>

<li><em>.pfx</em> file - Used to store a public+private key (optional encrypted with a password) </li>
</ul>

<p>You can obtain these files from a public certification authority or create your self-signed certificates using <code>makecert.exe</code> and <code>pvk2pfx.exe</code>, both available as Visual Studio Tools. Here an example on how to create a certificate:</p>

<pre lang="text">makecert -r -pe -n "CN=CompanyXYZ Server" -b 01/01/2007 -e 01/01/2010
        -sky exchange Server.cer -sv Server.pvk
pvk2pfx.exe -pvk Server.pvk -spc Server.cer -pfx Server.pfx    </pre>

<p>The first command (<code>makecert</code>) generates a public key (in this case <em>Server.cer</em>) and a private key (in this case <em>Server.pvk</em>). The second command (<code>pvk2pfx</code>) merges the 2 files on a single <em>.pfx</em> file (in this case <em>Server.pfx</em>).</p>

<p>When executing <code>makecert</code> and <code>pvk2pfx</code>, you can insert a password used to encrypt the private key.</p>

<h3>Service authentication</h3>

<p>This section describes how to configure the server with the certificate used to authenticate the service.</p>

<p>First you must add a reference to the <em>DevAge.ServiceModel.dll</em>. This assembly (included in the sample project with the full code) contains some classes used to load the certificate from a file that I will soon describe.</p>

<p>Then you must generate the service certificate and put it in a secure directory. For ASP.NET web site, I think that a good solution is to use the <em>App_Data</em> directory, which is automatically configured to not allow public access. I have generated in the <em>App_Data</em> directory 2 files: <em>Server.cer</em> and <em>Server.pfx</em>.</p>

<p>Usually you can specify the certificate for the service inside the <code>system.serviceModel</code> section of the <em>.config</em> file like this:</p>

<pre lang="xml"><span class="code-keyword">&lt;</span><span class="code-leadattribute">behaviors</span><span class="code-keyword">&gt;</span>
  <span class="code-keyword">&lt;</span><span class="code-leadattribute">serviceBehaviors</span><span class="code-keyword">&gt;</span>
    <span class="code-keyword">&lt;</span><span class="code-leadattribute">behavior</span> <span class="code-attribute">name</span><span class="code-keyword">="</span><span class="code-keyword">serviceCredentialBehavior"</span><span class="code-keyword">&gt;</span>
      <span class="code-keyword">&lt;</span><span class="code-leadattribute">serviceCredentials</span><span class="code-keyword">&gt;</span>
        <span class="code-keyword">&lt;</span><span class="code-leadattribute">serviceCertificate</span> <span class="code-attribute">findValue</span><span class="code-keyword">="</span><span class="code-keyword">Contoso.com"</span>
                            <span class="code-attribute">storeLocation</span><span class="code-keyword">="</span><span class="code-keyword">LocalMachine"</span>
                            <span class="code-attribute">storeName</span><span class="code-keyword">="</span><span class="code-keyword">My"</span>
                            <span class="code-attribute">x509FindType</span><span class="code-keyword">="</span><span class="code-keyword">FindBySubjectName"</span> <span class="code-keyword">/</span><span class="code-keyword">&gt;</span>
      <span class="code-keyword">&lt;</span><span class="code-keyword">/</span><span class="code-leadattribute">serviceCredentials</span><span class="code-keyword">&gt;</span>
    <span class="code-keyword">&lt;</span><span class="code-keyword">/</span><span class="code-leadattribute">behavior</span><span class="code-keyword">&gt;</span>
  <span class="code-keyword">&lt;</span><span class="code-keyword">/</span><span class="code-leadattribute">serviceBehaviors</span><span class="code-keyword">&gt;</span>
<span class="code-keyword">&lt;</span><span class="code-keyword">/</span><span class="code-leadattribute">behaviors</span><span class="code-keyword">&gt;</span>    </pre>

<p>This configuration basically tells WCF where to find the certificate inside the Certificate Store. </p>

<p>To load the certificate from file, unfortunately you can't simply change the configuration, but you must set the <code>ServiceHost.Credentials.ServiceCertificate.Certificate</code> property.</p>

<p>I have created a new configuration section where you can specify where to find the server certificate:</p>

<pre lang="xml"><span class="code-keyword">&lt;</span><span class="code-leadattribute">devage.serviceModel</span><span class="code-keyword">&gt;</span>
<span class="code-keyword">&lt;</span><span class="code-leadattribute">services</span><span class="code-keyword">&gt;</span>
  <span class="code-keyword">&lt;</span><span class="code-leadattribute">add</span> <span class="code-attribute">name</span><span class="code-keyword">="</span><span class="code-keyword">MathService"</span>
        <span class="code-attribute">serverCertificate</span><span class="code-keyword">="</span><span class="code-keyword">App_Data\Server.pfx"</span>
                <span class="code-keyword">/</span><span class="code-keyword">&gt;</span>
<span class="code-keyword">&lt;</span><span class="code-keyword">/</span><span class="code-leadattribute">services</span><span class="code-keyword">&gt;</span>
<span class="code-keyword">&lt;</span><span class="code-keyword">/</span><span class="code-leadattribute">devage.serviceModel</span><span class="code-keyword">&gt;</span>    </pre>

<p>Then I have created a new <code>ServiceHost</code> derived class, <code>DevAge.ComponentModel.CertificateServiceHost</code>, which automatically reads the new configuration section and sets the <code>ServiceHost.Credentials.ServiceCertificate.Certificate</code> property.</p>

<p>If you directly create the <code>ServiceHost</code> class you can simply change your code to create the <code>DevAge.ComponentModel.CertificateServiceHost</code> instead.<br />If you use ASP.NET (that automatically creates the <code>ServiceHost </code>class) you must configure the <em>.svc</em> file in this way:</p>

<pre lang="aspnet"><span class="code-pagedirective">&lt;%</span> @ServiceHost Language=<span class="code-string">"</span><span class="code-string">C#"</span> Debug=<span class="code-string">"</span><span class="code-string">true"</span>
        Service=<span class="code-string">"</span><span class="code-string">MathService"</span>
        CodeBehind=<span class="code-string">"</span><span class="code-string">~/App_Code/MathService.cs"</span>
        Factory=<span class="code-string">"</span><span class="code-string">DevAge.ServiceModel.CertificateServiceHostFactory"</span> <span class="code-pagedirective">%&gt;</span>    </pre>

<p>Note the <code>Factory</code> property that uses a specific factory class to create my <code>DevAge.ComponentModel.CertificateServiceHost</code>.<br />This configuration replaces the standard <code>serviceCertificate</code> section.</p>

<p>NOTE: When you will create the proxy client with <code>svcutil</code> you will see an <code>identity</code> section inside the <code>endpoint</code> section:</p>

<pre lang="xml"><span class="code-keyword">&lt;</span><span class="code-leadattribute">identity</span><span class="code-keyword">&gt;</span>
  <span class="code-keyword">&lt;</span><span class="code-leadattribute">certificate</span> <span class="code-attribute">encodedValue</span><span class="code-keyword">="</span><span class="code-keyword">...."</span> <span class="code-keyword">/</span><span class="code-keyword">&gt;</span>
<span class="code-keyword">&lt;</span><span class="code-keyword">/</span><span class="code-leadattribute">identity</span><span class="code-keyword">&gt;</span></pre>

<p>This section must be recreated each time you change the service certificate, because it contains the public identification of the certificate generated at design time. This value is used by the client to be sure to speak with the expected service.</p>

<h3>Client authentication</h3>

<p>This section describes how to use certificates to authenticate each client.</p>

<p>You must create a certificate for each client (or share the same certificate for more than one client). You can use the same command to generate self-signed certificates or obtain it from a certification authority.</p>

<p>In my example I have generated in the client directory 2 files: <em>Client.cer</em> and <em>Client.pfx</em>.</p>

<p>Normally each client can configure the application with the certificate using the configuration below:</p>

<pre lang="xml"><span class="code-keyword">&lt;</span><span class="code-leadattribute">behaviors</span><span class="code-keyword">&gt;</span>
  <span class="code-keyword">&lt;</span><span class="code-leadattribute">endpointBehaviors</span><span class="code-keyword">&gt;</span>
    <span class="code-keyword">&lt;</span><span class="code-leadattribute">behavior</span> <span class="code-attribute">name</span><span class="code-keyword">="</span><span class="code-keyword">ClientCredentialsBehavior"</span><span class="code-keyword">&gt;</span>
      <span class="code-keyword">&lt;</span><span class="code-leadattribute">clientCredentials</span><span class="code-keyword">&gt;</span>
        <span class="code-keyword">&lt;</span><span class="code-leadattribute">clientCertificate</span> <span class="code-attribute">findValue</span><span class="code-keyword">="</span><span class="code-keyword">Cohowinery.com"</span>
             <span class="code-attribute">storeLocation</span><span class="code-keyword">="</span><span class="code-keyword">CurrentUser"</span>
             <span class="code-attribute">storeName</span><span class="code-keyword">="</span><span class="code-keyword">My"</span>
             <span class="code-attribute">x509FindType</span><span class="code-keyword">="</span><span class="code-keyword">FindBySubjectName"</span> <span class="code-keyword">/</span><span class="code-keyword">&gt;</span>
      <span class="code-keyword">&lt;</span><span class="code-keyword">/</span><span class="code-leadattribute">clientCredentials</span><span class="code-keyword">&gt;</span>
    <span class="code-keyword">&lt;</span><span class="code-keyword">/</span><span class="code-leadattribute">behavior</span><span class="code-keyword">&gt;</span>
  <span class="code-keyword">&lt;</span><span class="code-keyword">/</span><span class="code-leadattribute">endpointBehaviors</span><span class="code-keyword">&gt;</span>
<span class="code-keyword">&lt;</span><span class="code-keyword">/</span><span class="code-leadattribute">behaviors</span><span class="code-keyword">&gt;</span>    </pre>

<p>This configuration always uses the Certificate Store to locate the right certificate to use and like in the previous example, there isn't a way to directly use a certificate file. So I have again created a new configuration section to specify the certificate file name:</p>

<pre lang="xml"><span class="code-keyword">&lt;</span><span class="code-leadattribute">devage.serviceModel</span><span class="code-keyword">&gt;</span>
<span class="code-keyword">&lt;</span><span class="code-leadattribute">endPoints</span><span class="code-keyword">&gt;</span>
  <span class="code-keyword">&lt;</span><span class="code-leadattribute">add</span> <span class="code-attribute">contract</span><span class="code-keyword">="</span><span class="code-keyword">Client.MathService.IMathService"</span>
        <span class="code-attribute">clientCertificate</span><span class="code-keyword">="</span><span class="code-keyword">Client.pfx"</span> <span class="code-keyword">/</span><span class="code-keyword">&gt;</span>
<span class="code-keyword">&lt;</span><span class="code-keyword">/</span><span class="code-leadattribute">endPoints</span><span class="code-keyword">&gt;</span>
<span class="code-keyword">&lt;</span><span class="code-keyword">/</span><span class="code-leadattribute">devage.serviceModel</span><span class="code-keyword">&gt;</span>    </pre>

<p>To manually set the certificate for the client you can set the <code>ClientProxy.ClientCredentials.ClientCertificate.Certificate</code> property.</p>

<p>Unfortunately in this case, there isn't a way to automatically set this property by reading the new section (or at least I cannot find a way...) so you must configure each proxy with code like this:</p>

<pre lang="cs"><span class="code-comment">//</span><span class="code-comment">Create the client proxy as usual
</span>MathService.MathServiceClient service =
         <span class="code-keyword">new</span> Client.MathService.MathServiceClient();

<span class="code-comment">//</span><span class="code-comment">Configure the client reading the devage.serviceModel configuration section
</span>DevAge.ServiceModel.Proxy&lt;MathService.IMathService&gt;.Configure(service);    </pre>

<p>The <code>DevAge.ServiceModel.Proxy</code> class reads the configuration section and sets the <code>ClientProxy.ClientCredentials.ClientCertificate.Certificate</code> property.</p>

<p>If the certificate used by the client is trusted by the server (usually must be added in the Trusted people of the Certificate Store) your configuration is complete. If otherwise the certificate is self-signed or anyway is not trusted by the server you must configure the server to accept the certificate.</p>

<p>To solve this issue, I have implemented a custom <code>X509CertificateValidator</code> class, <code>DevAge.ServiceModel.CustomCertificateValidator</code>, which can be configured for each service. You must extend the <code>devage.serviceModel</code> section of the <em>.config</em> file of the service (on the server) like this:</p>

<pre lang="xml"><span class="code-keyword">&lt;</span><span class="code-leadattribute">devage.serviceModel</span><span class="code-keyword">&gt;</span>
<span class="code-keyword">&lt;</span><span class="code-leadattribute">services</span><span class="code-keyword">&gt;</span>
  <span class="code-keyword">&lt;</span><span class="code-leadattribute">add</span> <span class="code-attribute">name</span><span class="code-keyword">="</span><span class="code-keyword">MathService"</span>
        <span class="code-attribute">serverCertificate</span><span class="code-keyword">="</span><span class="code-keyword">App_Data\Server.pfx"</span>
        <span class="code-attribute">clientCertificates</span><span class="code-keyword">="</span><span class="code-keyword">App_Data\Client1.cer,App_Data\Client2.cer"</span>
                <span class="code-keyword">/</span><span class="code-keyword">&gt;</span>
<span class="code-keyword">&lt;</span><span class="code-keyword">/</span><span class="code-leadattribute">services</span><span class="code-keyword">&gt;</span>
<span class="code-keyword">&lt;</span><span class="code-keyword">/</span><span class="code-leadattribute">devage.serviceModel</span><span class="code-keyword">&gt;</span>    </pre>

<p>Note the new <code>clientCertificates</code> property which contains a list of client certificates to consider trusted.</p>

<p>You must copy inside the <em>App_Data</em> server directory all the client public key files (in this case <em>Client1.cer</em> and <em>Client2.cer</em> files).</p>

<p>The <code>CertificateServiceHost</code> class automatically reads this new section and sets the <code>X509CertificateValidator</code> using code like this:</p>

<pre lang="cs">X509ClientCertificateAuthentication authentication =
            serviceHost.Credentials.ClientCertificate.Authentication;

authentication.CertificateValidationMode =
        System.ServiceModel.Security.X509CertificateValidationMode.Custom;

authentication.CustomCertificateValidator =
    <span class="code-keyword">new</span> CustomCertificateValidator(clientCertificates);    </pre>

<p>If the certificate file has a password, you can specify it within the file name using this format: filename|password. For example you can specify the <code>serverCertificate</code> attribute of the <em>web.config</em> with this value: <code>App_Data\Server.pfx|yourpassword</code>. <br />Remember also that you can specify 2 different password for the <em>*.pvk</em> and for the <em>*.pfx</em> files, the password to use is the password specified for the <em>*.pfx</em> file. See the <code>makecert </code>and <code>pvk2pfx </code>documentation for more details on how to set passwords.</p>

<h3><a name="Disadvantages">Disadvantages</a></h3>

<p>Storing the certificates on files is easier but is less secure because a malicious user can steal the private key. The public key can be shared without problems but if someone steals the private key your security is compromised. With the private key a malicious user can decrypt the messages or impersonate your service or a client.</p>

<p>I think anyway that usually if someone can access your file system you probably have many other security problems. Consider also that if someone has access to your file system, he or she can probably (depends on the type of the attack) also access the Certificate Store.</p>

<p>My suggestion is to correctly evaluate your application and your security requirements. In many cases, I think that saving certificate on a file is quite secure and can be useful.</p>

<p>Finally consider that you can use a mixed configuration, for example reading the server certificate inside the Certificate Store and the client certificates on file system.</p>

<h2><a name="Quick_start_tutorial">Quick start tutorial</a></h2>

<p>Here a simple tutorial to use certificates with a service hosted on IIS/ASP.NET and a console client application. I will create a simple Math service with a single <code>Sum </code>method.</p>

<h3>Creating the service</h3>

<p>Create a new web site project; add a reference to the <em>DevAge.ServiceModel.dll</em> assembly (that you can find in the sample project).</p>

<p>Add these files: </p>

<ul>
<li><em>App_Code/MathService.cs</em> 
<p />

<pre lang="cs"><span class="code-keyword">using</span> System;
<span class="code-keyword">using</span> System.ServiceModel;
<span class="code-keyword">using</span> System.Runtime.Serialization;

[ServiceContract()]
<span class="code-keyword">public</span> <span class="code-keyword">interface</span> IMathService
{
    [OperationContract]
    <span class="code-keyword">double</span> Sum(<span class="code-keyword">double</span> a, <span class="code-keyword">double</span> b);
}

<span class="code-keyword">public</span> <span class="code-keyword">class</span> MathService : IMathService
{
    <span class="code-keyword">public</span> <span class="code-keyword">double</span> Sum(<span class="code-keyword">double</span> a, <span class="code-keyword">double</span> b)
    {
        <span class="code-keyword">return</span> a + b;
    }
}    </pre>
</li>

<li><em>MathService.svc</em> 
<p />

<pre lang="aspnet"><span class="code-pagedirective">&lt;%</span> @ServiceHost Language=<span class="code-string">"</span><span class="code-string">C#"</span> Debug=<span class="code-string">"</span><span class="code-string">true"</span>
        Service=<span class="code-string">"</span><span class="code-string">MathService"</span>
        CodeBehind=<span class="code-string">"</span><span class="code-string">~/App_Code/MathService.cs"</span>
        Factory=<span class="code-string">"</span><span class="code-string">DevAge.ServiceModel.CertificateServiceHostFactory"</span> <span class="code-pagedirective">%&gt;</span>    </pre>
</li>

<li><em>Web.config</em> 
<p />

<pre lang="xml"><span class="code-summarycomment">&lt;?</span><span class="code-summarycomment">xml</span> <span class="code-summarycomment">version</span><span class="code-keyword">="</span><span class="code-keyword">1.0"</span><span class="code-summarycomment">?</span><span class="code-summarycomment">&gt;</span>
<span class="code-keyword">&lt;</span><span class="code-leadattribute">configuration</span> <span class="code-attribute">xmlns</span><span class="code-keyword">="</span><span class="code-keyword">http://schemas.microsoft.com/.NetConfiguration/v2.0"</span><span class="code-keyword">&gt;</span>
  <span class="code-keyword">&lt;</span><span class="code-leadattribute">configSections</span><span class="code-keyword">&gt;</span>
    <span class="code-comment">&lt;!--</span><span class="code-keyword"><span class="code-comment"> Add devage.serviceModel section handler </span>--&gt;</span>
    <span class="code-keyword">&lt;</span><span class="code-leadattribute">section</span> <span class="code-attribute">name</span><span class="code-keyword">="</span><span class="code-keyword">devage.serviceModel"</span>
        <span class="code-attribute">type</span><span class="code-keyword">="</span><span class="code-keyword">DevAge.ServiceModel.Configuration.Section, 
                    DevAge.ServiceModel"</span> <span class="code-keyword">/</span><span class="code-keyword">&gt;</span>
  <span class="code-keyword">&lt;</span><span class="code-keyword">/</span><span class="code-leadattribute">configSections</span><span class="code-keyword">&gt;</span>

  <span class="code-keyword">&lt;</span><span class="code-leadattribute">system.serviceModel</span><span class="code-keyword">&gt;</span>
    <span class="code-keyword">&lt;</span><span class="code-leadattribute">services</span><span class="code-keyword">&gt;</span>
      <span class="code-keyword">&lt;</span><span class="code-leadattribute">service</span> <span class="code-attribute">name</span><span class="code-keyword">="</span><span class="code-keyword">MathService"</span> <span class="code-attribute">behaviorConfiguration</span><span class="code-keyword">="</span><span class="code-keyword">behavior1"</span><span class="code-keyword">&gt;</span>
        <span class="code-keyword">&lt;</span><span class="code-leadattribute">endpoint</span> <span class="code-attribute">contract</span><span class="code-keyword">="</span><span class="code-keyword">IMathService"</span>
            <span class="code-attribute">binding</span><span class="code-keyword">="</span><span class="code-keyword">wsHttpBinding"</span> <span class="code-attribute">bindingConfiguration</span><span class="code-keyword">="</span><span class="code-keyword">binding1"</span><span class="code-keyword">/</span><span class="code-keyword">&gt;</span>
      <span class="code-keyword">&lt;</span><span class="code-keyword">/</span><span class="code-leadattribute">service</span><span class="code-keyword">&gt;</span>
    <span class="code-keyword">&lt;</span><span class="code-keyword">/</span><span class="code-leadattribute">services</span><span class="code-keyword">&gt;</span>

    <span class="code-keyword">&lt;</span><span class="code-leadattribute">behaviors</span><span class="code-keyword">&gt;</span>
      <span class="code-keyword">&lt;</span><span class="code-leadattribute">serviceBehaviors</span><span class="code-keyword">&gt;</span>
        <span class="code-keyword">&lt;</span><span class="code-leadattribute">behavior</span> <span class="code-attribute">name</span><span class="code-keyword">="</span><span class="code-keyword">behavior1"</span><span class="code-keyword">&gt;</span>
          <span class="code-keyword">&lt;</span><span class="code-leadattribute">serviceMetadata</span> <span class="code-attribute">httpGetEnabled</span><span class="code-keyword">="</span><span class="code-keyword">true"</span><span class="code-keyword">/</span><span class="code-keyword">&gt;</span>
          <span class="code-keyword">&lt;</span><span class="code-leadattribute">serviceDebug</span> <span class="code-attribute">includeExceptionDetailInFaults</span><span class="code-keyword">="</span><span class="code-keyword">true"</span><span class="code-keyword">/</span><span class="code-keyword">&gt;</span>
        <span class="code-keyword">&lt;</span><span class="code-keyword">/</span><span class="code-leadattribute">behavior</span><span class="code-keyword">&gt;</span>

      <span class="code-keyword">&lt;</span><span class="code-keyword">/</span><span class="code-leadattribute">serviceBehaviors</span><span class="code-keyword">&gt;</span>
    <span class="code-keyword">&lt;</span><span class="code-keyword">/</span><span class="code-leadattribute">behaviors</span><span class="code-keyword">&gt;</span>
    <span class="code-keyword">&lt;</span><span class="code-leadattribute">bindings</span><span class="code-keyword">&gt;</span>
      <span class="code-keyword">&lt;</span><span class="code-leadattribute">wsHttpBinding</span><span class="code-keyword">&gt;</span>
        <span class="code-keyword">&lt;</span><span class="code-leadattribute">binding</span> <span class="code-attribute">name</span><span class="code-keyword">="</span><span class="code-keyword">binding1"</span><span class="code-keyword">&gt;</span>
          <span class="code-keyword">&lt;</span><span class="code-leadattribute">security</span> <span class="code-attribute">mode</span><span class="code-keyword">="</span><span class="code-keyword">Message"</span><span class="code-keyword">&gt;</span>

            <span class="code-keyword">&lt;</span><span class="code-leadattribute">message</span> <span class="code-attribute">clientCredentialType</span><span class="code-keyword">="</span><span class="code-keyword">Certificate"</span> <span class="code-keyword">/</span><span class="code-keyword">&gt;</span>
          <span class="code-keyword">&lt;</span><span class="code-keyword">/</span><span class="code-leadattribute">security</span><span class="code-keyword">&gt;</span>
        <span class="code-keyword">&lt;</span><span class="code-keyword">/</span><span class="code-leadattribute">binding</span><span class="code-keyword">&gt;</span>
      <span class="code-keyword">&lt;</span><span class="code-keyword">/</span><span class="code-leadattribute">wsHttpBinding</span><span class="code-keyword">&gt;</span>
    <span class="code-keyword">&lt;</span><span class="code-keyword">/</span><span class="code-leadattribute">bindings</span><span class="code-keyword">&gt;</span>
  <span class="code-keyword">&lt;</span><span class="code-keyword">/</span><span class="code-leadattribute">system.serviceModel</span><span class="code-keyword">&gt;</span>

  <span class="code-comment">&lt;!--</span><span class="code-keyword"><span class="code-comment"> Specific DevAge.ServiceModel configuration used
        to set the client and server certificate </span>--&gt;</span>
  <span class="code-keyword">&lt;</span><span class="code-leadattribute">devage.serviceModel</span><span class="code-keyword">&gt;</span>
    <span class="code-comment">&lt;!--</span><span class="code-keyword"><span class="code-comment"> List of service type each with the relative server
        certificate and client certificate list </span>--&gt;</span>
    <span class="code-keyword">&lt;</span><span class="code-leadattribute">services</span><span class="code-keyword">&gt;</span>
      <span class="code-keyword">&lt;</span><span class="code-leadattribute">add</span> <span class="code-attribute">name</span><span class="code-keyword">="</span><span class="code-keyword">MathService"</span>
            <span class="code-attribute">serverCertificate</span><span class="code-keyword">="</span><span class="code-keyword">App_Data\Server.pfx"</span>
            <span class="code-attribute">clientCertificates</span><span class="code-keyword">="</span><span class="code-keyword">"</span>
                    <span class="code-keyword">/</span><span class="code-keyword">&gt;</span>
    <span class="code-keyword">&lt;</span><span class="code-keyword">/</span><span class="code-leadattribute">services</span><span class="code-keyword">&gt;</span>

  <span class="code-keyword">&lt;</span><span class="code-keyword">/</span><span class="code-leadattribute">devage.serviceModel</span><span class="code-keyword">&gt;</span>
<span class="code-keyword">&lt;</span><span class="code-keyword">/</span><span class="code-leadattribute">configuration</span><span class="code-keyword">&gt;</span>    </pre>
</li>
</ul>

<p>Now you must obtain a server certificate, you can buy it from a certification authority or create a self-signed certificate with the following procedure: <br />Open a Visual Studio Command Prompt, go to the <em>App_Data</em> directory and execute these commands (don't insert the password when asked):</p>

<pre lang="text">makecert -r -pe -n "CN=CompanyXYZ Server" -b 01/01/2007 -e 01/01/2010
        -sky exchange Server.cer -sv Server.pvk
pvk2pfx.exe -pvk Server.pvk -spc Server.cer -pfx Server.pfx    </pre>

<p>Run the project on Visual Studio to start the ASP.NET Development Server and try to navigate to the <em>MathService.svc</em> page.</p>

<h3>Creating the client</h3>

<p>Create a new Console Application project using "<code>Client</code>" as the project name; add a reference to the <em>DevAge.ServiceModel.dll</em> assembly (that you can find in the sample project). Using Visual Studio you must right click on the project and select "Add Service Reference". Insert the URL of your service (probably something like <em>http://localhost:1281/Server/MathService.svc</em>) and the name <code>MathService</code>.</p>

<p>Create a new <em>Program.cs</em> file to test your service like this:</p>

<pre lang="cs"><span class="code-keyword">using</span> System;
<span class="code-keyword">using</span> System.Collections.Generic;
<span class="code-keyword">using</span> System.Text;

<span class="code-keyword">namespace</span> Client
{
<span class="code-keyword">class</span> Program
{
    <span class="code-keyword">static</span> <span class="code-keyword">void</span> Main(<span class="code-keyword">string</span>[] args)
    {
        MathService.MathServiceClient service =
                <span class="code-keyword">new</span> MathService.MathServiceClient();

        <span class="code-comment">//</span><span class="code-comment">Configure the client reading the devage.serviceModel 
</span>        <span class="code-comment">//</span><span class="code-comment">configuration section
</span>        DevAge.ServiceModel.Proxy&lt;MathService.IMathService&gt;.Configure(service);

        <span class="code-keyword">try</span>
        {
            <span class="code-keyword">double</span> val = service.Sum(<span class="code-digit">10</span>, <span class="code-digit">20</span>);

            Console.WriteLine(<span class="code-string">"</span><span class="code-string">OK"</span>);
        }
        <span class="code-keyword">catch</span> (Exception ex)
        {
            service.Abort();

            Console.WriteLine(ex.ToString());
        }

        Console.WriteLine(<span class="code-string">"</span><span class="code-string">Press Enter key to exit..."</span>);
        Console.ReadLine();
    }
}
}    </pre>

<p>Open the <em>app.config</em> file, save in a temp file the <code>encodedValue</code> attribute in the <code>certificate</code> tag. Replace the <em>app.config</em> file with the configuration below, but remember to restore the previous <code>encodedValue</code> attribute and check the <code>address</code> attribute to point to the right service URL:</p>

<pre lang="xml"><span class="code-summarycomment">&lt;?</span><span class="code-summarycomment">xml</span> <span class="code-summarycomment">version</span><span class="code-keyword">="</span><span class="code-keyword">1.0"</span> <span class="code-summarycomment">encoding</span><span class="code-keyword">="</span><span class="code-keyword">utf-8"</span> <span class="code-summarycomment">?</span><span class="code-summarycomment">&gt;</span>
<span class="code-keyword">&lt;</span><span class="code-leadattribute">configuration</span><span class="code-keyword">&gt;</span>
  <span class="code-keyword">&lt;</span><span class="code-leadattribute">configSections</span><span class="code-keyword">&gt;</span>

    <span class="code-comment">&lt;!--</span><span class="code-keyword"><span class="code-comment"> Add devage.serviceModel section handler </span>--&gt;</span>
    <span class="code-keyword">&lt;</span><span class="code-leadattribute">section</span> <span class="code-attribute">name</span><span class="code-keyword">="</span><span class="code-keyword">devage.serviceModel"</span>
        <span class="code-attribute">type</span><span class="code-keyword">="</span><span class="code-keyword">DevAge.ServiceModel.Configuration.Section, DevAge.ServiceModel"</span> <span class="code-keyword">/</span><span class="code-keyword">&gt;</span>
  <span class="code-keyword">&lt;</span><span class="code-keyword">/</span><span class="code-leadattribute">configSections</span><span class="code-keyword">&gt;</span>
  <span class="code-keyword">&lt;</span><span class="code-leadattribute">system.serviceModel</span><span class="code-keyword">&gt;</span>
    <span class="code-keyword">&lt;</span><span class="code-leadattribute">bindings</span><span class="code-keyword">&gt;</span>
      <span class="code-keyword">&lt;</span><span class="code-leadattribute">wsHttpBinding</span><span class="code-keyword">&gt;</span>

        <span class="code-keyword">&lt;</span><span class="code-leadattribute">binding</span> <span class="code-attribute">name</span><span class="code-keyword">="</span><span class="code-keyword">binding1"</span> <span class="code-keyword">&gt;</span>
          <span class="code-keyword">&lt;</span><span class="code-leadattribute">security</span> <span class="code-attribute">mode</span><span class="code-keyword">="</span><span class="code-keyword">Message"</span><span class="code-keyword">&gt;</span>
            <span class="code-comment">&lt;!--</span><span class="code-keyword"><span class="code-comment"> Set the client authentication mode </span>--&gt;</span>
            <span class="code-keyword">&lt;</span><span class="code-leadattribute">message</span> <span class="code-attribute">clientCredentialType</span><span class="code-keyword">="</span><span class="code-keyword">Certificate"</span> <span class="code-keyword">/</span><span class="code-keyword">&gt;</span>
          <span class="code-keyword">&lt;</span><span class="code-keyword">/</span><span class="code-leadattribute">security</span><span class="code-keyword">&gt;</span>
        <span class="code-keyword">&lt;</span><span class="code-keyword">/</span><span class="code-leadattribute">binding</span><span class="code-keyword">&gt;</span>

      <span class="code-keyword">&lt;</span><span class="code-keyword">/</span><span class="code-leadattribute">wsHttpBinding</span><span class="code-keyword">&gt;</span>
    <span class="code-keyword">&lt;</span><span class="code-keyword">/</span><span class="code-leadattribute">bindings</span><span class="code-keyword">&gt;</span>
    <span class="code-keyword">&lt;</span><span class="code-leadattribute">behaviors</span><span class="code-keyword">&gt;</span>
      <span class="code-keyword">&lt;</span><span class="code-leadattribute">endpointBehaviors</span><span class="code-keyword">&gt;</span>
        <span class="code-keyword">&lt;</span><span class="code-leadattribute">behavior</span> <span class="code-attribute">name</span><span class="code-keyword">="</span><span class="code-keyword">behavior1"</span><span class="code-keyword">&gt;</span>
          <span class="code-keyword">&lt;</span><span class="code-leadattribute">clientCredentials</span><span class="code-keyword">&gt;</span>

            <span class="code-keyword">&lt;</span><span class="code-leadattribute">serviceCertificate</span><span class="code-keyword">&gt;</span>
              <span class="code-keyword">&lt;</span><span class="code-leadattribute">authentication</span> <span class="code-attribute">certificateValidationMode</span><span class="code-keyword">="</span><span class="code-keyword">None"</span> <span class="code-keyword">/</span><span class="code-keyword">&gt;</span>
            <span class="code-keyword">&lt;</span><span class="code-keyword">/</span><span class="code-leadattribute">serviceCertificate</span><span class="code-keyword">&gt;</span>
          <span class="code-keyword">&lt;</span><span class="code-keyword">/</span><span class="code-leadattribute">clientCredentials</span><span class="code-keyword">&gt;</span>
        <span class="code-keyword">&lt;</span><span class="code-keyword">/</span><span class="code-leadattribute">behavior</span><span class="code-keyword">&gt;</span>
      <span class="code-keyword">&lt;</span><span class="code-keyword">/</span><span class="code-leadattribute">endpointBehaviors</span><span class="code-keyword">&gt;</span>

    <span class="code-keyword">&lt;</span><span class="code-keyword">/</span><span class="code-leadattribute">behaviors</span><span class="code-keyword">&gt;</span>
    <span class="code-keyword">&lt;</span><span class="code-leadattribute">client</span><span class="code-keyword">&gt;</span>
      <span class="code-keyword">&lt;</span><span class="code-leadattribute">endpoint</span> <span class="code-attribute">address</span><span class="code-keyword">="</span><span class="code-keyword">http://localhost:1281/Server/MathService.svc"</span>
          <span class="code-attribute">binding</span><span class="code-keyword">="</span><span class="code-keyword">wsHttpBinding"</span> <span class="code-attribute">bindingConfiguration</span><span class="code-keyword">="</span><span class="code-keyword">binding1"</span>
          <span class="code-attribute">contract</span><span class="code-keyword">="</span><span class="code-keyword">Client.MathService.IMathService"</span>
          <span class="code-attribute">behaviorConfiguration</span><span class="code-keyword">="</span><span class="code-keyword">behavior1"</span>
           <span class="code-attribute">name</span><span class="code-keyword">="</span><span class="code-keyword">endpoint1"</span> <span class="code-keyword">&gt;</span>
        <span class="code-keyword">&lt;</span><span class="code-leadattribute">identity</span><span class="code-keyword">&gt;</span>
          <span class="code-comment">&lt;!--</span><span class="code-keyword"><span class="code-comment">This is the value used to check the server certificate identity,
            this value is generated by svcutil </span>--&gt;</span>
          <span class="code-keyword">&lt;</span><span class="code-leadattribute">certificate</span> <span class="code-attribute">encodedValue</span><span class="code-keyword">="</span><span class="code-keyword">TODO Here use your specific encodedValue"</span> <span class="code-keyword">/</span><span class="code-keyword">&gt;</span>
        <span class="code-keyword">&lt;</span><span class="code-keyword">/</span><span class="code-leadattribute">identity</span><span class="code-keyword">&gt;</span>
      <span class="code-keyword">&lt;</span><span class="code-keyword">/</span><span class="code-leadattribute">endpoint</span><span class="code-keyword">&gt;</span>
    <span class="code-keyword">&lt;</span><span class="code-keyword">/</span><span class="code-leadattribute">client</span><span class="code-keyword">&gt;</span>
  <span class="code-keyword">&lt;</span><span class="code-keyword">/</span><span class="code-leadattribute">system.serviceModel</span><span class="code-keyword">&gt;</span>
  <span class="code-comment">&lt;!--</span><span class="code-keyword"><span class="code-comment"> Specific DevAge.ServiceModel configuration </span>--&gt;</span>
  <span class="code-keyword">&lt;</span><span class="code-leadattribute">devage.serviceModel</span><span class="code-keyword">&gt;</span>

    <span class="code-comment">&lt;!--</span><span class="code-keyword"><span class="code-comment"> List of endPoints each with the relative client certificate
         to use for authentication. </span>--&gt;</span>
    <span class="code-keyword">&lt;</span><span class="code-leadattribute">endPoints</span><span class="code-keyword">&gt;</span>
      <span class="code-keyword">&lt;</span><span class="code-leadattribute">add</span> <span class="code-attribute">contract</span><span class="code-keyword">="</span><span class="code-keyword">Client.MathService.IMathService"</span>
            <span class="code-attribute">clientCertificate</span><span class="code-keyword">="</span><span class="code-keyword">..\..\Client.pfx"</span> <span class="code-keyword">/</span><span class="code-keyword">&gt;</span>
    <span class="code-keyword">&lt;</span><span class="code-keyword">/</span><span class="code-leadattribute">endPoints</span><span class="code-keyword">&gt;</span>
  <span class="code-keyword">&lt;</span><span class="code-keyword">/</span><span class="code-leadattribute">devage.serviceModel</span><span class="code-keyword">&gt;</span>
<span class="code-keyword">&lt;</span><span class="code-keyword">/</span><span class="code-leadattribute">configuration</span><span class="code-keyword">&gt;</span>    </pre>

<p>Now we must generate the client certificate. Again this certificate can be obtained from a certification authority or created with the procedure below: <br />Open a Visual Studio Command Prompt, go to the client project directory and execute these commands (don't insert the password when asked):</p>

<pre lang="text">makecert -r -pe -n "CN=CompanyXYZ Client" -b 01/01/2007 -e 01/01/2010
        -sky exchange Client.cer -sv Client.pvk
pvk2pfx.exe -pvk Client.pvk -spc Client.cer -pfx Client.pfx    </pre>

<p>Finally copy the <em>Client.cer</em> file in the server <em>App_Data</em> directory and modify the <em>web.config</em> server file adding the client certificate like this:</p>

<pre lang="xml"><span class="code-keyword">&lt;!--</span><span class="code-keyword"><span class="code-comment"> Specific DevAge.ServiceModel configuration used to set
    the client and server certificate </span>--&gt;</span>
<span class="code-keyword">&lt;</span><span class="code-leadattribute">devage.serviceModel</span><span class="code-keyword">&gt;</span>

    <span class="code-keyword">&lt;!--</span><span class="code-keyword"><span class="code-comment"> List of service type each with the relative server
          certificate and client certificate list </span>--&gt;</span>
    <span class="code-keyword">&lt;</span><span class="code-leadattribute">services</span><span class="code-keyword">&gt;</span>
      <span class="code-keyword">&lt;</span><span class="code-leadattribute">add</span> <span class="code-attribute">name</span><span class="code-keyword">="</span><span class="code-keyword">MathService"</span>
            <span class="code-attribute">serverCertificate</span><span class="code-keyword">="</span><span class="code-keyword">App_Data\Server.pfx"</span>
            <span class="code-attribute">clientCertificates</span><span class="code-keyword">="</span><span class="code-keyword">App_Data\Client.cer"</span>
                    <span class="code-keyword">/</span><span class="code-keyword">&gt;</span>
    <span class="code-keyword">&lt;</span><span class="code-keyword">/</span><span class="code-leadattribute">services</span><span class="code-keyword">&gt;</span>
<span class="code-keyword">&lt;</span><span class="code-keyword">/</span><span class="code-leadattribute">devage.serviceModel</span><span class="code-keyword">&gt;</span>    </pre>

<p>Note the <code>clientCertificates</code> attribute that now contains the <em>Client.cer</em> file.</p>

<p>Now you can test your client application.</p>

<h2>Sample project</h2>

<p>In the sample project, I have created a full working example composed of:</p>

<ul>
<li><code>Server </code>- a service hosted by a web site project </li>

<li><code>Client </code>- the service client implemented as a console application </li>

<li><code>DevAge.ServiceModel </code>- the library that contains the new implementation used to load the certificates from a file </li>
</ul>

<p>You can simply open the solution with Visual Studio 2005 and run the Client project to test the code.</p>

<h2>Conclusion</h2>

<p>I think that this article show the advantages and disadvantages of loading the certificates from files without using the Certificate Store. Security is important and I know that this solution is not perfect, but can be a useful alternative. Consider anyway that it is always easy to change the configuration files to use the classic approach.</p>

<p>Write to me if you find errors (on code or documentation) or if you have problems, questions or suggestions. I will appreciate any feedback.</p>

<h2><a name="External_resources">External resources</a></h2>

<ul>
<li><a href="http://msdn2.microsoft.com/en-us/library/aa388579.aspx" target="_blank">MSDN WCF Home Page</a> </li>

<li>An MSDN article with a good overview of the certificates used for authentication:<br /><a href="http://msdn2.microsoft.com/en-us/library/ms733102.aspx" target="_blank">Message Security with Mutual Certificates</a> </li>

<li>A good introduction and overview of WCF: <br /><a href="http://www.code-magazine.com/articleprint.aspx?quickid=0611051&amp;page=1" target="_blank">Code Magazine - Fundamentals of WCF Security by Michele Leroux Bustamante</a> </li>

<li>A site with some good WCF resources: <br /><a href="http://www.netfx3.com/" target="_blank">http://www.netfx3.com/</a> </li>

<li>Some important definitions and concepts from Wikipedia: 
<ul>
<li><a href="http://en.wikipedia.org/wiki/Public_key_certificate">Public key certificate</a> </li>

<li><a href="http://en.wikipedia.org/wiki/Public_key_infrastructure">Public key infrastructure</a> </li>

<li><a href="http://en.wikipedia.org/wiki/Certificate_authority">Certificate authority</a> </li>
</ul>
</li>
</ul>

<h2>History</h2>

<ul>
<li>30 Apr 2007: First release </li>
</ul>


						</div>
						

						
						
						<h2>License</h2>
						<div id="LicenseTerms"><p>This article, along with any associated source code and files, is licensed under <a href="http://www.opensource.org/licenses/mit-license.php" rel="license">The MIT License</a></p></div>
						

						<div class="float-right" style="margin:20px 0 0 0;border:1px solid #ccc">
						<div class="msg-300x250" data-format="300x250" data-type="ad" data-publisher="lqm.codeproject.site" data-zone="ros"  data-loadOnView='true'  data-tags='VS2005, C#2.0, .NET3.0, ASP.NET, Windows, Dev, WCF, WebForms, Intermediate,rating4.5'></div>
						</div>

						
						<h2 id="ctl00_AboutHeading">About the Author</h2>
						

<div class="container">
<div style="width:210px;overflow:hidden;float:left;text-align:center">
	<img id="ctl00_AboutAuthorRptr_ctl00_AboutAuthor_memberPhoto" class="profile-pic" src="http://www.codeproject.com/script/Membership/ProfileImages/{9ec9441f-8013-4595-a5d3-1c2a1077631c}.jpg" style="border-width:0px;transform:rotate(-1deg);" />
</div>
<div class="container-member float-left" style="width:235px">
	<b><a id="ctl00_AboutAuthorRptr_ctl00_AboutAuthor_memberProfileLink" class="author" href="/Members/Davide-Icardi">Davide Icardi</a></b>
	<div class="company">
		<span id="ctl00_AboutAuthorRptr_ctl00_AboutAuthor_memberJobTitle">Software Developer</span>
		<span id="ctl00_AboutAuthorRptr_ctl00_AboutAuthor_memberCompany"></span> 
		<br /><span id="ctl00_AboutAuthorRptr_ctl00_AboutAuthor_memberLocation">Italy <img src="/script/Geo/Images/IT.gif" alt="Italy" width="16px" height="11px" /></span>
	</div>
</div>
	
<div class="padded-top float-left clearfix" style="width:600px">
	No Biography provided

	

	
</div>
</div><br />
						
						

						<div class="clearfix"></div>

						<div style="padding-top:8px">
							<a class="anchorLink" href="/Articles/18601/An-easy-way-to-use-certificates-for-WCF-security#_articleTop">Article Top</a>
						</div>

						
						<div style="margin:auto;height:90px;margin-top:10px" class="sticky-stop"> 
							<div class="msg-728x90" data-format="728x90" data-type="ad" data-publisher="lqm.codeproject.site" data-zone="bottom"  data-loadOnView='true'  data-tags='VS2005, C#2.0, .NET3.0, ASP.NET, Windows, Dev, WCF, WebForms, Intermediate,pos_bottom'></div>
						</div>
						
					

				    
					</form>

				</div>

				
				

					<h2>Comments and Discussions</h2>
					<a class="float-left" name="_comments" id="_comments">&nbsp;</a><div id="_MessageBoardctl00_MessageBoard" onclick="return SwitchMessage(event, null)">
	<table id="ForumTable" class="forum relaxed" cellpadding="0" cellspacing="0">
		<tr>
			<td class="header1 callout"><b>You must <a href="https://www.codeproject.com/script/Membership/LogOn.aspx?rp=%2fArticles%2f18601%2fAn-easy-way-to-use-certificates-for-WCF-security%3ffid%3d412989%26df%3d90%26mpp%3d25%26noise%3d3%26prof%3dFalse%26sort%3dPosition%26view%3dNormal%26spc%3dRelaxed">Sign In</a> to use this message board.</b></td>
		</tr><tr>
			<td><table width="100%" border="0" cellpadding="3px" cellspacing="0">
				<tr class="header1">
					<td colspan="2" style="white-space:nowrap;"><div class="container">
						<div class="float-right">
							<form action="/Search.aspx?fid=0" method="get" class="searchbar">
								<input type="hidden" name="fid" value="412989" /><b>Search this forum </b><input type="search" class="search" name="qf" />&nbsp;<input type="submit" value="Go" class="button" />
							</form>
						</div>
					</div></td><tr class="header2">
						<td></td><td style="width:100%;"><div style="text-align:right;">
							<form action="/script/Forums/SetOptions.aspx?floc=%2fArticles%2f18601%2fAn-easy-way-to-use-certificates-for-WCF-security&amp;fid=412989&amp;df=90&amp;mpp=25&amp;noise=3&amp;prof=False&amp;sort=Position&amp;view=Normal&amp;spc=Relaxed" method="get" style="margin:0;padding:0;">
								<input type="hidden" name="fid" value="412989" /><input type="hidden" name="currentQS" value="?floc=%2fArticles%2f18601%2fAn-easy-way-to-use-certificates-for-WCF-security&amp;fid=412989&amp;df=90&amp;mpp=25&amp;noise=3&amp;prof=False&amp;sort=Position&amp;view=Normal&amp;spc=Relaxed" /><input type="hidden" name="floc" value="/Articles/18601/An-easy-way-to-use-certificates-for-WCF-security" /><input type="checkbox" name="prof" id="prof" style="vertical-align:middle;" /><label for="prof">Profile popups</label>&nbsp;&nbsp;&nbsp;&nbsp;Spacing<select size="1" class="dropdown" name="spc">
									<option selected value="Relaxed">Relaxed</option><option value="Compact">Compact</option><option value="Tight">Tight</option>
								</select>&nbsp;&nbsp;Noise<select size="1" class="dropdown" name="noise">
									<option value="1">Very High</option><option value="2">High</option><option selected value="3">Medium</option><option value="4">Low</option><option value="5">Very Low</option>
								</select>&nbsp;&nbsp;Layout<select size="1" class="dropdown" name="view">
									<option selected value="Normal">Normal</option><option value="Topic">Open Topics</option><option value="Expanded">Open All</option><option value="Thread">Thread View</option>
								</select>&nbsp;&nbsp;Per page<select size="1" class="dropdown" name="mpp">
									<option value="10">10</option><option selected value="25">25</option><option value="50">50</option>
								</select>&nbsp;&nbsp;&nbsp;<input type="submit" value="Update" name="SetOpt" class="button" />
							</form>
						</div></td>
					</tr>
				</tr>
			</table></td><tr>
				<td><a name="xx0xx"></a><table border="0" cellpadding="2px" cellspacing="0" width="100%">
					<tr class="navbar">
						<td></td><td style="text-align:right;width:50%;"></td><td style="text-align:right;white-space:nowrap;"><span class="nav-link disabled">First</span> <span class="nav-link disabled">Prev</span><a class="nav-link" name="Frm_HoverNL" href="/Articles/18601/An-easy-way-to-use-certificates-for-WCF-security?fid=412989&amp;df=90&amp;mpp=25&amp;noise=3&amp;prof=False&amp;sort=Position&amp;view=Normal&amp;spc=Relaxed&amp;fr=26#xx0xx">Next</a></td>
					</tr>
				</table></td>
			</tr><tr>
				<td><table border="0" cellpadding="0" cellspacing="0" width="100%" class="fixed-layout blank-background">
					<tr>
						<td><img src="http://s.codeproject.com/script/Forums/Images/t.gif" border="0" width="1px" height="5px" alt="" /></td>
					</tr><tr id="F4711721_h0" class="header hover-row root">
						<td class="subject-line normal " width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
							<tr>
								<td width="20px" class="indent"><a name="xx4711721xx"></a><img height="16px" width="16px" align="top" src="/script/Forums/Images/msg_question.gif" alt="Question" /></td><td class="subject hover-container"><a class="message-link" name="4711721" parent="0" thread="4711721" href="/Messages/4711721/Gook-work.aspx">Gook work</a> <a onclick="return Pin(this);" href="#" title="Click to pin message"><img src="http://s.codeproject.com/script/Forums/Images/pin.png" border="0" align="top" alt="Pin" width="13px" height="13px" /></a></td><td class="icon"><img border="0" src="http://s.codeproject.com/App_Themes/CodeProject/Img/icn-member-16.gif" title="member" alt="member" height="16px" /></td><td class="author"><a href="/script/Membership/View.aspx?mid=8543521">Member 8543521</a></td><td class="date">29-Nov-13  0:58&nbsp;</td>
							</tr>
						</table></td>
					</tr><tr id="F4711721_h1" class="content root selected" style="display:none;">
						<td class="normal" width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
							<tr valign="top">
								<td class="indent align-right" style="width:20px;"><div class="voteform vertical" ownerid="8543521" msgid="4711721" votingType="GoodOrBad">

								</div><img src="http://s.codeproject.com/script/Forums/Images/t.gif" height="1px" width="20px" alt="" /></td><td class="text"><table border="0" cellpadding="0" cellspacing="5px" width="100%">
									<tr>
										<td><table border="0" cellpadding="0" cellspacing="0" width="100%">
											<tr>
												<td colspan="2">Thanks for information.<br /></td>
											</tr><tr class="footer" style="vertical-align:top;">
												<td><a href="http://www.codeproject.com/script/Membership/LogOn.aspx?rp=%2fArticles%2f18601%2fAn-easy-way-to-use-certificates-for-WCF-security">Sign In</a>Â·<wbr><a href="/Articles/18601/An-easy-way-to-use-certificates-for-WCF-security?fid=412989&amp;df=90&amp;mpp=25&amp;sort=Position&amp;spc=Relaxed&amp;tid=4711721" title="View&nbsp;Thread">View&nbsp;Thread</a>Â·<wbr><a href="/Messages/4711721/Gook-work.aspx" title="Get permanent link">Permalink</a></td><td style="text-align:right;"><span id="MVF4711721" data-ref="3_4711721" class="rating-label" style="white-space:nowrap;"></span></td>
											</tr>
										</table></td>
									</tr>
								</table></td>
							</tr>
						</table></td>
					</tr><tr id="F4711675_h0" class="header hover-row root">
						<td class="subject-line normal " width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
							<tr>
								<td width="20px" class="indent"><a name="xx4711675xx"></a><img height="16px" width="16px" align="top" src="/script/Forums/Images/msg_question.gif" alt="Question" /></td><td class="subject hover-container"><a class="message-link" name="4711675" parent="0" thread="4711675" href="/Messages/4711675/excellent-information-thanks.aspx">excellent information - thanks</a> <a onclick="return Pin(this);" href="#" title="Click to pin message"><img src="http://s.codeproject.com/script/Forums/Images/pin.png" border="0" align="top" alt="Pin" width="13px" height="13px" /></a></td><td class="icon"><img border="0" src="http://s.codeproject.com/App_Themes/CodeProject/Img/icn-member-16.gif" title="member" alt="member" height="16px" /></td><td class="author"><a href="/script/Membership/View.aspx?mid=5085274">devBilal</a></td><td class="date">28-Nov-13  23:39&nbsp;</td>
							</tr>
						</table></td>
					</tr><tr id="F4711675_h1" class="content root selected" style="display:none;">
						<td class="normal" width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
							<tr valign="top">
								<td class="indent align-right" style="width:20px;"><div class="voteform vertical" ownerid="5085274" msgid="4711675" votingType="GoodOrBad">

								</div><img src="http://s.codeproject.com/script/Forums/Images/t.gif" height="1px" width="20px" alt="" /></td><td class="text"><table border="0" cellpadding="0" cellspacing="5px" width="100%">
									<tr>
										<td><table border="0" cellpadding="0" cellspacing="0" width="100%">
											<tr>
												<td colspan="2">excellent information - thanks<br />
<div class="signature">BILAL SOHAIL</div><br /></td>
											</tr><tr class="footer" style="vertical-align:top;">
												<td><a href="http://www.codeproject.com/script/Membership/LogOn.aspx?rp=%2fArticles%2f18601%2fAn-easy-way-to-use-certificates-for-WCF-security">Sign In</a>Â·<wbr><a href="/Articles/18601/An-easy-way-to-use-certificates-for-WCF-security?fid=412989&amp;df=90&amp;mpp=25&amp;sort=Position&amp;spc=Relaxed&amp;tid=4711675" title="View&nbsp;Thread">View&nbsp;Thread</a>Â·<wbr><a href="/Messages/4711675/excellent-information-thanks.aspx" title="Get permanent link">Permalink</a></td><td style="text-align:right;"><span id="MVF4711675" data-ref="3_4711675" class="rating-label" style="white-space:nowrap;"></span></td>
											</tr>
										</table></td>
									</tr>
								</table></td>
							</tr>
						</table></td>
					</tr><tr id="F4526417_h0" class="header hover-row root">
						<td class="subject-line normal " width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
							<tr>
								<td width="20px" class="indent"><a name="xx4526417xx"></a><img height="16px" width="16px" align="top" src="/script/Forums/Images/msg_question.gif" alt="Question" /></td><td class="subject hover-container"><a class="message-link" name="4526417" parent="0" thread="4526417" href="/Messages/4526417/Securing-WCF-Service-with-self-signed-certificates.aspx">Securing WCF Service with self signed certificates programmatically</a> <a onclick="return Pin(this);" href="#" title="Click to pin message"><img src="http://s.codeproject.com/script/Forums/Images/pin.png" border="0" align="top" alt="Pin" width="13px" height="13px" /></a></td><td class="icon"><img border="0" src="http://s.codeproject.com/App_Themes/CodeProject/Img/icn-member-16.gif" title="member" alt="member" height="16px" /></td><td class="author"><a href="/script/Membership/View.aspx?mid=6455971">ha123zem</a></td><td class="date">25-Mar-13  22:51&nbsp;</td>
							</tr>
						</table></td>
					</tr><tr id="F4526417_h1" class="content root selected" style="display:none;">
						<td class="normal" width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
							<tr valign="top">
								<td class="indent align-right" style="width:20px;"><div class="voteform vertical" ownerid="6455971" msgid="4526417" votingType="GoodOrBad">

								</div><img src="http://s.codeproject.com/script/Forums/Images/t.gif" height="1px" width="20px" alt="" /></td><td class="text"><table border="0" cellpadding="0" cellspacing="5px" width="100%">
									<tr>
										<td><table border="0" cellpadding="0" cellspacing="0" width="100%">
											<tr>
												<td colspan="2">very nice article , thnx<br /></td>
											</tr><tr class="footer" style="vertical-align:top;">
												<td><a href="http://www.codeproject.com/script/Membership/LogOn.aspx?rp=%2fArticles%2f18601%2fAn-easy-way-to-use-certificates-for-WCF-security">Sign In</a>Â·<wbr><a href="/Articles/18601/An-easy-way-to-use-certificates-for-WCF-security?fid=412989&amp;df=90&amp;mpp=25&amp;sort=Position&amp;spc=Relaxed&amp;tid=4526417" title="View&nbsp;Thread">View&nbsp;Thread</a>Â·<wbr><a href="/Messages/4526417/Securing-WCF-Service-with-self-signed-certificates.aspx" title="Get permanent link">Permalink</a></td><td style="text-align:right;"><span id="MVF4526417" data-ref="3_4526417" class="rating-label" style="white-space:nowrap;"></span></td>
											</tr>
										</table></td>
									</tr>
								</table></td>
							</tr>
						</table></td>
					</tr><tr id="F4413882_h0" class="header hover-row root">
						<td class="subject-line normal " width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
							<tr>
								<td width="20px" class="indent"><a name="xx4413882xx"></a><img height="16px" width="16px" align="top" src="/script/Forums/Images/msg_idea.gif" alt="Suggestion" /></td><td class="subject hover-container"><a class="message-link" name="4413882" parent="0" thread="4413882" href="/Messages/4413882/Another-option.aspx">Another option [modified]</a> <a onclick="return Pin(this);" href="#" title="Click to pin message"><img src="http://s.codeproject.com/script/Forums/Images/pin.png" border="0" align="top" alt="Pin" width="13px" height="13px" /></a></td><td class="icon"><img border="0" src="http://s.codeproject.com/App_Themes/CodeProject/Img/icn-member-16.gif" title="member" alt="member" height="16px" /></td><td class="author"><a href="/script/Membership/View.aspx?mid=9557117">Vasil Trifonov</a></td><td class="date">29-Oct-12  22:57&nbsp;</td>
							</tr>
						</table></td>
					</tr><tr id="F4413882_h1" class="content root selected" style="display:none;">
						<td class="normal" width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
							<tr valign="top">
								<td class="indent align-right" style="width:20px;"><div class="voteform vertical" ownerid="9557117" msgid="4413882" votingType="GoodOrBad">

								</div><img src="http://s.codeproject.com/script/Forums/Images/t.gif" height="1px" width="20px" alt="" /></td><td class="text"><table border="0" cellpadding="0" cellspacing="5px" width="100%">
									<tr>
										<td><table border="0" cellpadding="0" cellspacing="0" width="100%">
											<tr>
												<td colspan="2">You can check out this blog post -<br />
<a href="http://vasil-trifonov.blogspot.com/2012/10/securing-wcf-service-with-self-signed.html"><br />
Securing WCF Service with Self Signed Certificates programmatically</a>.<br />
&nbsp;<br />
Won't need installing any certificate.<br /><br /><div class="modified">modified  19-Nov-12 4:19am.</div><br /></td>
											</tr><tr class="footer" style="vertical-align:top;">
												<td><a href="http://www.codeproject.com/script/Membership/LogOn.aspx?rp=%2fArticles%2f18601%2fAn-easy-way-to-use-certificates-for-WCF-security">Sign In</a>Â·<wbr><a href="/Articles/18601/An-easy-way-to-use-certificates-for-WCF-security?fid=412989&amp;df=90&amp;mpp=25&amp;sort=Position&amp;spc=Relaxed&amp;tid=4413882" title="View&nbsp;Thread">View&nbsp;Thread</a>Â·<wbr><a href="/Messages/4413882/Another-option.aspx" title="Get permanent link">Permalink</a></td><td style="text-align:right;"><span id="MVF4413882" data-ref="3_4413882" class="rating-label" style="white-space:nowrap;"></span></td>
											</tr>
										</table></td>
									</tr>
								</table></td>
							</tr>
						</table></td>
					</tr><tr id="F4294489_h0" class="header hover-row root">
						<td class="subject-line normal " width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
							<tr>
								<td width="20px" class="indent"><a name="xx4294489xx"></a><img height="16px" width="16px" align="top" src="/script/Forums/Images/msg_general.gif" alt="General" /></td><td class="subject hover-container"><a class="message-link" name="4294489" parent="0" thread="4294489" href="/Messages/4294489/My-vote-of.aspx">My vote of 5</a> <a onclick="return Pin(this);" href="#" title="Click to pin message"><img src="http://s.codeproject.com/script/Forums/Images/pin.png" border="0" align="top" alt="Pin" width="13px" height="13px" /></a></td><td class="icon"><img border="0" src="http://s.codeproject.com/App_Themes/CodeProject/Img/icn-member-16.gif" title="member" alt="member" height="16px" /></td><td class="author"><a href="/script/Membership/View.aspx?mid=4119864">Member 4119864</a></td><td class="date">28-Jun-12  2:22&nbsp;</td>
							</tr>
						</table></td>
					</tr><tr id="F4294489_h1" class="content root selected" style="display:none;">
						<td class="normal" width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
							<tr valign="top">
								<td class="indent align-right" style="width:20px;"><div class="voteform vertical" ownerid="4119864" msgid="4294489" votingType="GoodOrBad">

								</div><img src="http://s.codeproject.com/script/Forums/Images/t.gif" height="1px" width="20px" alt="" /></td><td class="text"><table border="0" cellpadding="0" cellspacing="5px" width="100%">
									<tr>
										<td><table border="0" cellpadding="0" cellspacing="0" width="100%">
											<tr>
												<td colspan="2">Nice one... very usefull<br /></td>
											</tr><tr class="footer" style="vertical-align:top;">
												<td><a href="http://www.codeproject.com/script/Membership/LogOn.aspx?rp=%2fArticles%2f18601%2fAn-easy-way-to-use-certificates-for-WCF-security">Sign In</a>Â·<wbr><a href="/Articles/18601/An-easy-way-to-use-certificates-for-WCF-security?fid=412989&amp;df=90&amp;mpp=25&amp;sort=Position&amp;spc=Relaxed&amp;tid=4294489" title="View&nbsp;Thread">View&nbsp;Thread</a>Â·<wbr><a href="/Messages/4294489/My-vote-of.aspx" title="Get permanent link">Permalink</a></td><td style="text-align:right;"><span id="MVF4294489" data-ref="3_4294489" class="rating-label" style="white-space:nowrap;"></span></td>
											</tr>
										</table></td>
									</tr>
								</table></td>
							</tr>
						</table></td>
					</tr><tr id="F4294484_h0" class="header hover-row root">
						<td class="subject-line normal " width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
							<tr>
								<td width="20px" class="indent"><a name="xx4294484xx"></a><img height="16px" width="16px" align="top" src="/script/Forums/Images/msg_question.gif" alt="Question" /></td><td class="subject hover-container"><a class="message-link" name="4294484" parent="0" thread="4294484" href="/Messages/4294484/Is-that-mandatory-that-the-Server-should-run-in-Co.aspx">Is that mandatory that the Server should run in "Cohowinery.com" domain. ?`</a> <a onclick="return Pin(this);" href="#" title="Click to pin message"><img src="http://s.codeproject.com/script/Forums/Images/pin.png" border="0" align="top" alt="Pin" width="13px" height="13px" /></a></td><td class="icon"><img border="0" src="http://s.codeproject.com/App_Themes/CodeProject/Img/icn-member-16.gif" title="member" alt="member" height="16px" /></td><td class="author"><a href="/script/Membership/View.aspx?mid=4119864">Member 4119864</a></td><td class="date">28-Jun-12  2:20&nbsp;</td>
							</tr>
						</table></td>
					</tr><tr id="F4294484_h1" class="content root selected" style="display:none;">
						<td class="normal" width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
							<tr valign="top">
								<td class="indent align-right" style="width:20px;"><div class="voteform vertical" ownerid="4119864" msgid="4294484" votingType="GoodOrBad">

								</div><img src="http://s.codeproject.com/script/Forums/Images/t.gif" height="1px" width="20px" alt="" /></td><td class="text"><table border="0" cellpadding="0" cellspacing="5px" width="100%">
									<tr>
										<td><table border="0" cellpadding="0" cellspacing="0" width="100%">
											<tr>
												<td colspan="2">Is that mandatory that the Server should run in "Cohowinery.com" domain. ?<br />&nbsp;<br />I have some doubts about Certificates.<br />&nbsp;<br />1.) Are we creating this certificate for specifically for the Domain. ?<br />&nbsp;<br />2.) Do we need to buy Certificate for each client ? Or only server is required ?<br /></td>
											</tr><tr class="footer" style="vertical-align:top;">
												<td><a href="http://www.codeproject.com/script/Membership/LogOn.aspx?rp=%2fArticles%2f18601%2fAn-easy-way-to-use-certificates-for-WCF-security">Sign In</a>Â·<wbr><a href="/Articles/18601/An-easy-way-to-use-certificates-for-WCF-security?fid=412989&amp;df=90&amp;mpp=25&amp;sort=Position&amp;spc=Relaxed&amp;tid=4294484" title="View&nbsp;Thread">View&nbsp;Thread</a>Â·<wbr><a href="/Messages/4294484/Is-that-mandatory-that-the-Server-should-run-in-Co.aspx" title="Get permanent link">Permalink</a></td><td style="text-align:right;"><span id="MVF4294484" data-ref="3_4294484" class="rating-label" style="white-space:nowrap;"></span></td>
											</tr>
										</table></td>
									</tr>
								</table></td>
							</tr>
						</table></td>
					</tr><tr id="F4193292_h0" class="header hover-row root">
						<td class="subject-line normal " width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
							<tr>
								<td width="20px" class="indent"><a name="xx4193292xx"></a><img height="16px" width="16px" align="top" src="/script/Forums/Images/msg_question.gif" alt="Question" /></td><td class="subject hover-container"><a class="message-link" name="4193292" parent="0" thread="4193292" href="/Messages/4193292/Certificates-with-password.aspx">Certificates with password</a> <a onclick="return Pin(this);" href="#" title="Click to pin message"><img src="http://s.codeproject.com/script/Forums/Images/pin.png" border="0" align="top" alt="Pin" width="13px" height="13px" /></a></td><td class="icon"><img border="0" src="http://s.codeproject.com/App_Themes/CodeProject/Img/icn-member-16.gif" title="member" alt="member" height="16px" /></td><td class="author"><a href="/script/Membership/View.aspx?mid=3481191">tiswingpower</a></td><td class="date">16-Mar-12  11:16&nbsp;</td>
							</tr>
						</table></td>
					</tr><tr id="F4193292_h1" class="content root selected" style="display:none;">
						<td class="normal" width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
							<tr valign="top">
								<td class="indent align-right" style="width:20px;"><div class="voteform vertical" ownerid="3481191" msgid="4193292" votingType="GoodOrBad">

								</div><img src="http://s.codeproject.com/script/Forums/Images/t.gif" height="1px" width="20px" alt="" /></td><td class="text"><table border="0" cellpadding="0" cellspacing="5px" width="100%">
									<tr>
										<td><table border="0" cellpadding="0" cellspacing="0" width="100%">
											<tr>
												<td colspan="2">I tried using makecert specifying a password, and putting the password in the config files, but when the application tries to access the file, it's throwing an invalid network password error.  I'm certain that the password is correct.  Did I miss anything?  It's erroring out in the constructor of X509Certificate2, where the password is also passed.<br />
&nbsp;<br />
Thanks.<br /></td>
											</tr><tr class="footer" style="vertical-align:top;">
												<td><a href="http://www.codeproject.com/script/Membership/LogOn.aspx?rp=%2fArticles%2f18601%2fAn-easy-way-to-use-certificates-for-WCF-security">Sign In</a>Â·<wbr><a href="/Articles/18601/An-easy-way-to-use-certificates-for-WCF-security?fid=412989&amp;df=90&amp;mpp=25&amp;sort=Position&amp;spc=Relaxed&amp;tid=4193292" title="View&nbsp;Thread">View&nbsp;Thread</a>Â·<wbr><a href="/Messages/4193292/Certificates-with-password.aspx" title="Get permanent link">Permalink</a></td><td style="text-align:right;"><span id="MVF4193292" data-ref="3_4193292" class="rating-label" style="white-space:nowrap;"></span></td>
											</tr>
										</table></td>
									</tr>
								</table></td>
							</tr>
						</table></td>
					</tr><tr id="F3964954_h0" class="header hover-row root">
						<td class="subject-line normal " width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
							<tr>
								<td width="20px" class="indent"><a name="xx3964954xx"></a><img height="16px" width="16px" align="top" src="/script/Forums/Images/msg_question.gif" alt="Question" /></td><td class="subject hover-container"><a class="message-link" name="3964954" parent="0" thread="3964954" href="/Messages/3964954/This-doesnt-appear-to-work-with-a-asp-net-website.aspx">This doesnt appear to work with a asp.net website, only a console app</a> <a onclick="return Pin(this);" href="#" title="Click to pin message"><img src="http://s.codeproject.com/script/Forums/Images/pin.png" border="0" align="top" alt="Pin" width="13px" height="13px" /></a></td><td class="icon"><img border="0" src="http://s.codeproject.com/App_Themes/CodeProject/Img/icn-member-16.gif" title="member" alt="member" height="16px" /></td><td class="author"><a href="/script/Membership/View.aspx?mid=7931526">demus68</a></td><td class="date">20-Jul-11  7:24&nbsp;</td>
							</tr>
						</table></td>
					</tr><tr id="F3964954_h1" class="content root selected" style="display:none;">
						<td class="normal" width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
							<tr valign="top">
								<td class="indent align-right" style="width:20px;"><div class="voteform vertical" ownerid="7931526" msgid="3964954" votingType="GoodOrBad">

								</div><img src="http://s.codeproject.com/script/Forums/Images/t.gif" height="1px" width="20px" alt="" /></td><td class="text"><table border="0" cellpadding="0" cellspacing="5px" width="100%">
									<tr>
										<td><table border="0" cellpadding="0" cellspacing="0" width="100%">
											<tr>
												<td colspan="2">I can create 2 projects, both pointing at the same service. One a console app, the other an asp.net website. The console app authenticates with the service succesfully, however the asp.net website fails with the following exception running in casini:<br />
&nbsp;<br />
"The client certificate is not provided. Specify a client certificate in ClientCredentials."<br />
&nbsp;<br />
Why is this? Do i need to ammend this to work with a web app? <br />
&nbsp;<br />
Thanks, <br />
Luke.<br /></td>
											</tr><tr class="footer" style="vertical-align:top;">
												<td><a href="http://www.codeproject.com/script/Membership/LogOn.aspx?rp=%2fArticles%2f18601%2fAn-easy-way-to-use-certificates-for-WCF-security">Sign In</a>Â·<wbr><a href="/Articles/18601/An-easy-way-to-use-certificates-for-WCF-security?fid=412989&amp;df=90&amp;mpp=25&amp;sort=Position&amp;spc=Relaxed&amp;tid=3964954" title="View&nbsp;Thread">View&nbsp;Thread</a>Â·<wbr><a href="/Messages/3964954/This-doesnt-appear-to-work-with-a-asp-net-website.aspx" title="Get permanent link">Permalink</a></td><td style="text-align:right;"><span id="MVF3964954" data-ref="3_3964954" class="rating-label" style="white-space:nowrap;"></span></td>
											</tr>
										</table></td>
									</tr>
								</table></td>
							</tr>
						</table></td>
					</tr><tr id="F3962034_h0" class="header hover-row root">
						<td class="subject-line normal " width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
							<tr>
								<td width="20px" class="indent"><a name="xx3962034xx"></a><img height="16px" width="16px" align="top" src="/script/Forums/Images/msg_general.gif" alt="General" /></td><td class="subject hover-container"><a class="message-link" name="3962034" parent="0" thread="3962034" href="/Messages/3962034/My-vote-of.aspx">My vote of 5</a> <a onclick="return Pin(this);" href="#" title="Click to pin message"><img src="http://s.codeproject.com/script/Forums/Images/pin.png" border="0" align="top" alt="Pin" width="13px" height="13px" /></a></td><td class="icon"><img border="0" src="http://s.codeproject.com/App_Themes/CodeProject/Img/icn-member-16.gif" title="member" alt="member" height="16px" /></td><td class="author"><a href="/script/Membership/View.aspx?mid=6020591">sivanphani</a></td><td class="date">18-Jul-11  6:17&nbsp;</td>
							</tr>
						</table></td>
					</tr><tr id="F3962034_h1" class="content root selected" style="display:none;">
						<td class="normal" width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
							<tr valign="top">
								<td class="indent align-right" style="width:20px;"><div class="voteform vertical" ownerid="6020591" msgid="3962034" votingType="GoodOrBad">

								</div><img src="http://s.codeproject.com/script/Forums/Images/t.gif" height="1px" width="20px" alt="" /></td><td class="text"><table border="0" cellpadding="0" cellspacing="5px" width="100%">
									<tr>
										<td><table border="0" cellpadding="0" cellspacing="0" width="100%">
											<tr>
												<td colspan="2">gud 1<br /></td>
											</tr><tr class="footer" style="vertical-align:top;">
												<td><a href="http://www.codeproject.com/script/Membership/LogOn.aspx?rp=%2fArticles%2f18601%2fAn-easy-way-to-use-certificates-for-WCF-security">Sign In</a>Â·<wbr><a href="/Articles/18601/An-easy-way-to-use-certificates-for-WCF-security?fid=412989&amp;df=90&amp;mpp=25&amp;sort=Position&amp;spc=Relaxed&amp;tid=3962034" title="View&nbsp;Thread">View&nbsp;Thread</a>Â·<wbr><a href="/Messages/3962034/My-vote-of.aspx" title="Get permanent link">Permalink</a></td><td style="text-align:right;"><span id="MVF3962034" data-ref="3_3962034" class="rating-label" style="white-space:nowrap;"></span></td>
											</tr>
										</table></td>
									</tr>
								</table></td>
							</tr>
						</table></td>
					</tr><tr id="F3962033_h0" class="header hover-row root">
						<td class="subject-line normal " width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
							<tr>
								<td width="20px" class="indent"><a name="xx3962033xx"></a><img height="16px" width="16px" align="top" src="/script/Forums/Images/msg_general.gif" alt="General" /></td><td class="subject hover-container"><a class="message-link" name="3962033" parent="0" thread="3962033" href="/Messages/3962033/My-vote-of.aspx">My vote of 5</a> <a onclick="return Pin(this);" href="#" title="Click to pin message"><img src="http://s.codeproject.com/script/Forums/Images/pin.png" border="0" align="top" alt="Pin" width="13px" height="13px" /></a></td><td class="icon"><img border="0" src="http://s.codeproject.com/App_Themes/CodeProject/Img/icn-member-16.gif" title="member" alt="member" height="16px" /></td><td class="author"><a href="/script/Membership/View.aspx?mid=6020591">sivanphani</a></td><td class="date">18-Jul-11  6:17&nbsp;</td>
							</tr>
						</table></td>
					</tr><tr id="F3962033_h1" class="content root selected" style="display:none;">
						<td class="normal" width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
							<tr valign="top">
								<td class="indent align-right" style="width:20px;"><div class="voteform vertical" ownerid="6020591" msgid="3962033" votingType="GoodOrBad">

								</div><img src="http://s.codeproject.com/script/Forums/Images/t.gif" height="1px" width="20px" alt="" /></td><td class="text"><table border="0" cellpadding="0" cellspacing="5px" width="100%">
									<tr>
										<td><table border="0" cellpadding="0" cellspacing="0" width="100%">
											<tr>
												<td colspan="2">good one<br /></td>
											</tr><tr class="footer" style="vertical-align:top;">
												<td><a href="http://www.codeproject.com/script/Membership/LogOn.aspx?rp=%2fArticles%2f18601%2fAn-easy-way-to-use-certificates-for-WCF-security">Sign In</a>Â·<wbr><a href="/Articles/18601/An-easy-way-to-use-certificates-for-WCF-security?fid=412989&amp;df=90&amp;mpp=25&amp;sort=Position&amp;spc=Relaxed&amp;tid=3962033" title="View&nbsp;Thread">View&nbsp;Thread</a>Â·<wbr><a href="/Messages/3962033/My-vote-of.aspx" title="Get permanent link">Permalink</a></td><td style="text-align:right;"><span id="MVF3962033" data-ref="3_3962033" class="rating-label" style="white-space:nowrap;"></span></td>
											</tr>
										</table></td>
									</tr>
								</table></td>
							</tr>
						</table></td>
					</tr><tr id="F3907741_h0" class="header hover-row root">
						<td class="subject-line normal " width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
							<tr>
								<td width="20px" class="indent"><a name="xx3907741xx"></a><img height="16px" width="16px" align="top" src="/script/Forums/Images/msg_general.gif" alt="General" /></td><td class="subject hover-container"><a class="message-link" name="3907741" parent="0" thread="3907741" href="/Messages/3907741/Is-there-any-way-to-do-this-with-a-net-service-ref.aspx">Is there any way to do this with a .net 3.0 service reference?</a> <a onclick="return Pin(this);" href="#" title="Click to pin message"><img src="http://s.codeproject.com/script/Forums/Images/pin.png" border="0" align="top" alt="Pin" width="13px" height="13px" /></a></td><td class="icon"><img border="0" src="http://s.codeproject.com/App_Themes/CodeProject/Img/icn-member-16.gif" title="member" alt="member" height="16px" /></td><td class="author"><a href="/script/Membership/View.aspx?mid=36440">Paul Shaffer</a></td><td class="date">27-May-11  13:47&nbsp;</td>
							</tr>
						</table></td>
					</tr><tr id="F3907741_h1" class="content root selected" style="display:none;">
						<td class="normal" width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
							<tr valign="top">
								<td class="indent align-right" style="width:20px;"><div class="voteform vertical" ownerid="36440" msgid="3907741" votingType="GoodOrBad">

								</div><img src="http://s.codeproject.com/script/Forums/Images/t.gif" height="1px" width="20px" alt="" /></td><td class="text"><table border="0" cellpadding="0" cellspacing="5px" width="100%">
									<tr>
										<td><table border="0" cellpadding="0" cellspacing="0" width="100%">
											<tr>
												<td colspan="2">I've been unable to get this working for a wcf 3 service. <br />
I'm stuck on the error:<br />
"The service certificate is not provided. Specify a service certificate in ServiceCredentials." when generating the service reference in vs2008.<br />
I can't find any way to hook up a private certificate placed in app_data. It seems to only allow for a known certificate store.<br /></td>
											</tr><tr class="footer" style="vertical-align:top;">
												<td><a href="http://www.codeproject.com/script/Membership/LogOn.aspx?rp=%2fArticles%2f18601%2fAn-easy-way-to-use-certificates-for-WCF-security">Sign In</a>Â·<wbr><a href="/Articles/18601/An-easy-way-to-use-certificates-for-WCF-security?fid=412989&amp;df=90&amp;mpp=25&amp;sort=Position&amp;spc=Relaxed&amp;tid=3907741" title="View&nbsp;Thread">View&nbsp;Thread</a>Â·<wbr><a href="/Messages/3907741/Is-there-any-way-to-do-this-with-a-net-service-ref.aspx" title="Get permanent link">Permalink</a></td><td style="text-align:right;"><span id="MVF3907741" data-ref="3_3907741" class="rating-label" style="white-space:nowrap;"></span></td>
											</tr>
										</table></td>
									</tr>
								</table></td>
							</tr>
						</table></td>
					</tr><tr id="F3647089_h0" class="header hover-row root">
						<td class="subject-line normal " width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
							<tr>
								<td width="20px" class="indent"><a name="xx3647089xx"></a><img height="16px" width="16px" align="top" src="/script/Forums/Images/msg_question.gif" alt="Question" /></td><td class="subject hover-container"><a class="message-link" name="3647089" parent="0" thread="3647089" href="/Messages/3647089/How-to-use-with-WindsorServiceHostFactory.aspx">How to use with WindsorServiceHostFactory</a> <a onclick="return Pin(this);" href="#" title="Click to pin message"><img src="http://s.codeproject.com/script/Forums/Images/pin.png" border="0" align="top" alt="Pin" width="13px" height="13px" /></a></td><td class="icon"><img border="0" src="http://s.codeproject.com/App_Themes/CodeProject/Img/icn-member-16.gif" title="member" alt="member" height="16px" /></td><td class="author"><a href="/script/Membership/View.aspx?mid=2318455">Wil324</a></td><td class="date">26-Oct-10  6:51&nbsp;</td>
							</tr>
						</table></td>
					</tr><tr id="F3647089_h1" class="content root selected" style="display:none;">
						<td class="normal" width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
							<tr valign="top">
								<td class="indent align-right" style="width:20px;"><div class="voteform vertical" ownerid="2318455" msgid="3647089" votingType="GoodOrBad">

								</div><img src="http://s.codeproject.com/script/Forums/Images/t.gif" height="1px" width="20px" alt="" /></td><td class="text"><table border="0" cellpadding="0" cellspacing="5px" width="100%">
									<tr>
										<td><table border="0" cellpadding="0" cellspacing="0" width="100%">
											<tr>
												<td colspan="2">Hi,<br />
&nbsp;<br />
I was wondering if you know how I can use your code with the WindsorServiceHostFactory.  I know that you can't have more than one host factory; however I need the benifits provided in both of them.  I even tried creating a cusom service host that contained your code for ApplyConfiguration.  It seems that when the windsor container is registered with the windsorServiceHostFactory, the web.config is being read immediately and I am getting an error stating that I need the <serviceCertificate> section.  Can you please help?<br /></td>
											</tr><tr class="footer" style="vertical-align:top;">
												<td><a href="http://www.codeproject.com/script/Membership/LogOn.aspx?rp=%2fArticles%2f18601%2fAn-easy-way-to-use-certificates-for-WCF-security">Sign In</a>Â·<wbr><a href="/Articles/18601/An-easy-way-to-use-certificates-for-WCF-security?fid=412989&amp;df=90&amp;mpp=25&amp;sort=Position&amp;spc=Relaxed&amp;tid=3647089" title="View&nbsp;Thread">View&nbsp;Thread</a>Â·<wbr><a href="/Messages/3647089/How-to-use-with-WindsorServiceHostFactory.aspx" title="Get permanent link">Permalink</a></td><td style="text-align:right;"><span id="MVF3647089" data-ref="3_3647089" class="rating-label" style="white-space:nowrap;"></span></td>
											</tr>
										</table></td>
									</tr>
								</table></td>
							</tr>
						</table></td>
					</tr><tr id="F3518737_h0" class="header hover-row root">
						<td class="subject-line normal " width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
							<tr>
								<td width="20px" class="indent"><a name="xx3518737xx"></a><img height="16px" width="16px" align="top" src="/script/Forums/Images/msg_general.gif" alt="General" /></td><td class="subject hover-container"><a class="message-link" name="3518737" parent="0" thread="3518737" href="/Messages/3518737/My-vote-of.aspx">My vote of 5</a> <a onclick="return Pin(this);" href="#" title="Click to pin message"><img src="http://s.codeproject.com/script/Forums/Images/pin.png" border="0" align="top" alt="Pin" width="13px" height="13px" /></a></td><td class="icon"><img border="0" src="http://s.codeproject.com/App_Themes/CodeProject/Img/icn-member-16.gif" title="member" alt="member" height="16px" /></td><td class="author"><a href="/script/Membership/View.aspx?mid=4560985">hulu0316</a></td><td class="date">28-Jun-10  23:57&nbsp;</td>
							</tr>
						</table></td>
					</tr><tr id="F3518737_h1" class="content root selected" style="display:none;">
						<td class="normal" width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
							<tr valign="top">
								<td class="indent align-right" style="width:20px;"><div class="voteform vertical" ownerid="4560985" msgid="3518737" votingType="GoodOrBad">

								</div><img src="http://s.codeproject.com/script/Forums/Images/t.gif" height="1px" width="20px" alt="" /></td><td class="text"><table border="0" cellpadding="0" cellspacing="5px" width="100%">
									<tr>
										<td><table border="0" cellpadding="0" cellspacing="0" width="100%">
											<tr>
												<td colspan="2">excellent work, just fit my needs<br /></td>
											</tr><tr class="footer" style="vertical-align:top;">
												<td><a href="http://www.codeproject.com/script/Membership/LogOn.aspx?rp=%2fArticles%2f18601%2fAn-easy-way-to-use-certificates-for-WCF-security">Sign In</a>Â·<wbr><a href="/Articles/18601/An-easy-way-to-use-certificates-for-WCF-security?fid=412989&amp;df=90&amp;mpp=25&amp;sort=Position&amp;spc=Relaxed&amp;tid=3518737" title="View&nbsp;Thread">View&nbsp;Thread</a>Â·<wbr><a href="/Messages/3518737/My-vote-of.aspx" title="Get permanent link">Permalink</a></td><td style="text-align:right;"><span id="MVF3518737" data-ref="3_3518737" class="rating-label" style="white-space:nowrap;"></span></td>
											</tr>
										</table></td>
									</tr>
								</table></td>
							</tr>
						</table></td>
					</tr><tr id="F3386569_h0" class="header hover-row root">
						<td class="subject-line normal " width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
							<tr>
								<td width="20px" class="indent"><a name="xx3386569xx"></a><img height="16px" width="16px" align="top" src="/script/Forums/Images/msg_general.gif" alt="General" /></td><td class="subject hover-container"><a class="message-link" name="3386569" parent="0" thread="3386569" href="/Messages/3386569/I-think-I-need-something-close.aspx">I think I need something close</a> <a onclick="return Pin(this);" href="#" title="Click to pin message"><img src="http://s.codeproject.com/script/Forums/Images/pin.png" border="0" align="top" alt="Pin" width="13px" height="13px" /></a></td><td class="icon"><img border="0" src="http://s.codeproject.com/App_Themes/CodeProject/Img/icn-member-16.gif" title="member" alt="member" height="16px" /></td><td class="author"><a href="/script/Membership/View.aspx?mid=839247">sdmcnitt</a></td><td class="date">1-Mar-10  7:15&nbsp;</td>
							</tr>
						</table></td>
					</tr><tr id="F3386569_h1" class="content root selected" style="display:none;">
						<td class="normal" width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
							<tr valign="top">
								<td class="indent align-right" style="width:20px;"><div class="voteform vertical" ownerid="839247" msgid="3386569" votingType="GoodOrBad">

								</div><img src="http://s.codeproject.com/script/Forums/Images/t.gif" height="1px" width="20px" alt="" /></td><td class="text"><table border="0" cellpadding="0" cellspacing="5px" width="100%">
									<tr>
										<td><table border="0" cellpadding="0" cellspacing="0" width="100%">
											<tr>
												<td colspan="2">Thanks for this article. I think we need to do this or something close. We are new to using services and would like to replace our interface files between our internal product and external installs.<br />
&nbsp;<br />
We are trying to prevent a security failure as described in the following scenario:<br />
&nbsp;<br />
Both ClientA and ClientB are signed up and using our service. They are also each otherâ€™s competitors. The client side end point runs as part of a background task in our product. Both clients have valid certificates issued by our internal CA. The client side initiates the communication and passes the ClientID as part of the Service method. ClientA discovers that they can call our Service (from Microsoft Access perhaps) and pass the ClientID for ClientB (which they figure out by brute force with their ClientID as a clue). In this way they are able to retrieve their competitorâ€™s sensitive data.<br />
&nbsp;<br />
The whole thing would be easy if we could just put/get some sort of extended property off of the certificate that we issue to the customer. <br />
&nbsp;<br />
Do you have any ideas?<div class="signature">I hope I die in my sleep like my grandpa Bart, not screaming and kicking like the passengers of his cab.</div><br /></td>
											</tr><tr class="footer" style="vertical-align:top;">
												<td><a href="http://www.codeproject.com/script/Membership/LogOn.aspx?rp=%2fArticles%2f18601%2fAn-easy-way-to-use-certificates-for-WCF-security">Sign In</a>Â·<wbr><a href="/Articles/18601/An-easy-way-to-use-certificates-for-WCF-security?fid=412989&amp;df=90&amp;mpp=25&amp;sort=Position&amp;spc=Relaxed&amp;tid=3386569" title="View&nbsp;Thread">View&nbsp;Thread</a>Â·<wbr><a href="/Messages/3386569/I-think-I-need-something-close.aspx" title="Get permanent link">Permalink</a></td><td style="text-align:right;"><span id="MVF3386569" data-ref="3_3386569" class="rating-label" style="white-space:nowrap;"></span></td>
											</tr>
										</table></td>
									</tr>
								</table></td>
							</tr>
						</table></td>
					</tr><tr id="F3349500_h0" class="header hover-row root">
						<td class="subject-line normal " width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
							<tr>
								<td width="20px" class="indent"><a name="xx3349500xx"></a><img height="16px" width="16px" align="top" src="/script/Forums/Images/msg_question.gif" alt="Question" /></td><td class="subject hover-container"><a class="message-link" name="3349500" parent="0" thread="3349500" href="/Messages/3349500/problem-with-the-serviceReference.aspx">problem with the serviceReference</a> <a onclick="return Pin(this);" href="#" title="Click to pin message"><img src="http://s.codeproject.com/script/Forums/Images/pin.png" border="0" align="top" alt="Pin" width="13px" height="13px" /></a></td><td class="icon"><img border="0" src="http://s.codeproject.com/App_Themes/CodeProject/Img/icn-member-16.gif" title="member" alt="member" height="16px" /></td><td class="author"><a href="/script/Membership/View.aspx?mid=6841193">lastalaica</a></td><td class="date">29-Jan-10  4:19&nbsp;</td>
							</tr>
						</table></td>
					</tr><tr id="F3349500_h1" class="content root selected" style="display:none;">
						<td class="normal" width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
							<tr valign="top">
								<td class="indent align-right" style="width:20px;"><div class="voteform vertical" ownerid="6841193" msgid="3349500" votingType="GoodOrBad">

								</div><img src="http://s.codeproject.com/script/Forums/Images/t.gif" height="1px" width="20px" alt="" /></td><td class="text"><table border="0" cellpadding="0" cellspacing="5px" width="100%">
									<tr>
										<td><table border="0" cellpadding="0" cellspacing="0" width="100%">
											<tr>
												<td colspan="2">Hi all,<br />
&nbsp;<br />
I've read all <a href="http://www.codeproject.com/KB/WCF/wcfcertificates.aspx"> this tutorial </a> but there is something that bother me ... <br />
It's this line :<br />
<pre>DevAge.ServiceModel.Proxy&lt;MathService.IMathService&gt;.Configure(service);</pre>
&nbsp;<br />
It's because I don't use the same templates that windows gave when you create a new WCF service...<br />
If you want to know, I use <a href="http://www.dnrtv.com/default.aspx?showNum=122">this one</a><br />
&nbsp;<br />
So I don't need to add a service reference so I can't do this line... Is there another solution??<br />
&nbsp;<br />
Thanks for your help in advance<br />
&nbsp;<br />
Have a good day<br /></td>
											</tr><tr class="footer" style="vertical-align:top;">
												<td><a href="http://www.codeproject.com/script/Membership/LogOn.aspx?rp=%2fArticles%2f18601%2fAn-easy-way-to-use-certificates-for-WCF-security">Sign In</a>Â·<wbr><a href="/Articles/18601/An-easy-way-to-use-certificates-for-WCF-security?fid=412989&amp;df=90&amp;mpp=25&amp;sort=Position&amp;spc=Relaxed&amp;tid=3349500" title="View&nbsp;Thread">View&nbsp;Thread</a>Â·<wbr><a href="/Messages/3349500/problem-with-the-serviceReference.aspx" title="Get permanent link">Permalink</a></td><td style="text-align:right;"><span id="MVF3349500" data-ref="3_3349500" class="rating-label" style="white-space:nowrap;"></span></td>
											</tr>
										</table></td>
									</tr>
								</table></td>
							</tr>
						</table></td>
					</tr><tr id="F3356955_h0" class="header hover-row">
						<td class="subject-line normal " width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
							<tr>
								<td width="38px" class="indent"><a name="xx3356955xx"></a><img height="16px" width="16px" align="top" src="/script/Forums/Images/msg_answer.gif" alt="Answer" /></td><td class="subject hover-container"><a class="message-link" name="3356955" parent="3349500" thread="3349500" href="/Messages/3356955/Re-problem-with-the-serviceReference.aspx">Re: problem with the serviceReference</a> <a onclick="return Pin(this);" href="#" title="Click to pin message"><img src="http://s.codeproject.com/script/Forums/Images/pin.png" border="0" align="top" alt="Pin" width="13px" height="13px" /></a></td><td class="icon"><img border="0" src="http://s.codeproject.com/App_Themes/CodeProject/Img/icn-member-16.gif" title="member" alt="member" height="16px" /></td><td class="author"><a href="/script/Membership/View.aspx?mid=4561854">ize_man</a></td><td class="date">4-Feb-10  21:26&nbsp;</td>
							</tr>
						</table></td>
					</tr><tr id="F3356955_h1" class="content selected" style="display:none;">
						<td class="normal" width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
							<tr valign="top">
								<td class="indent align-right" style="width:38px;"><div class="voteform vertical" ownerid="4561854" msgid="3356955" votingType="GoodOrBad">

								</div><img src="http://s.codeproject.com/script/Forums/Images/t.gif" height="1px" width="38px" alt="" /></td><td class="text"><table border="0" cellpadding="0" cellspacing="5px" width="100%">
									<tr>
										<td><table border="0" cellpadding="0" cellspacing="0" width="100%">
											<tr>
												<td colspan="2">Hi<br />
&nbsp;<br />
I am thinking about using this approach in my design, did you come up with a solution to the problem?<br /></td>
											</tr><tr class="footer" style="vertical-align:top;">
												<td><a href="http://www.codeproject.com/script/Membership/LogOn.aspx?rp=%2fArticles%2f18601%2fAn-easy-way-to-use-certificates-for-WCF-security">Sign In</a>Â·<wbr><a href="/Articles/18601/An-easy-way-to-use-certificates-for-WCF-security?fid=412989&amp;df=90&amp;mpp=25&amp;sort=Position&amp;spc=Relaxed&amp;tid=3349500" title="View&nbsp;Thread">View&nbsp;Thread</a>Â·<wbr><a href="/Messages/3356955/Re-problem-with-the-serviceReference.aspx" title="Get permanent link">Permalink</a></td><td style="text-align:right;"><span id="MVF3356955" data-ref="3_3356955" class="rating-label" style="white-space:nowrap;"></span></td>
											</tr>
										</table></td>
									</tr>
								</table></td>
							</tr>
						</table></td>
					</tr><tr id="F3341077_h0" class="header hover-row root">
						<td class="subject-line normal " width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
							<tr>
								<td width="20px" class="indent"><a name="xx3341077xx"></a><img height="16px" width="16px" align="top" src="/script/Forums/Images/msg_general.gif" alt="General" /></td><td class="subject hover-container"><a class="message-link" name="3341077" parent="0" thread="3341077" href="/Messages/3341077/HTTPS.aspx">HTTPS</a> <a onclick="return Pin(this);" href="#" title="Click to pin message"><img src="http://s.codeproject.com/script/Forums/Images/pin.png" border="0" align="top" alt="Pin" width="13px" height="13px" /></a></td><td class="icon"><img border="0" src="http://s.codeproject.com/App_Themes/CodeProject/Img/icn-member-16.gif" title="member" alt="member" height="16px" /></td><td class="author"><a href="/script/Membership/View.aspx?mid=4867970">neil brightcliffe</a></td><td class="date">21-Jan-10  23:46&nbsp;</td>
							</tr>
						</table></td>
					</tr><tr id="F3341077_h1" class="content root selected" style="display:none;">
						<td class="normal" width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
							<tr valign="top">
								<td class="indent align-right" style="width:20px;"><div class="voteform vertical" ownerid="4867970" msgid="3341077" votingType="GoodOrBad">

								</div><img src="http://s.codeproject.com/script/Forums/Images/t.gif" height="1px" width="20px" alt="" /></td><td class="text"><table border="0" cellpadding="0" cellspacing="5px" width="100%">
									<tr>
										<td><table border="0" cellpadding="0" cellspacing="0" width="100%">
											<tr>
												<td colspan="2">Excellent sample,<br />
&nbsp;<br />
Almost exactly what I need.  I need the server to accept the messages on the HTTPS port though, have you any idea how this can be done?<br />
&nbsp;<br />
Many many many thanks.<br />
Neil.<br /></td>
											</tr><tr class="footer" style="vertical-align:top;">
												<td><a href="http://www.codeproject.com/script/Membership/LogOn.aspx?rp=%2fArticles%2f18601%2fAn-easy-way-to-use-certificates-for-WCF-security">Sign In</a>Â·<wbr><a href="/Articles/18601/An-easy-way-to-use-certificates-for-WCF-security?fid=412989&amp;df=90&amp;mpp=25&amp;sort=Position&amp;spc=Relaxed&amp;tid=3341077" title="View&nbsp;Thread">View&nbsp;Thread</a>Â·<wbr><a href="/Messages/3341077/HTTPS.aspx" title="Get permanent link">Permalink</a></td><td style="text-align:right;"><span id="MVF3341077" data-ref="3_3341077" class="rating-label" style="white-space:nowrap;"></span></td>
											</tr>
										</table></td>
									</tr>
								</table></td>
							</tr>
						</table></td>
					</tr><tr id="F3349549_h0" class="header hover-row">
						<td class="subject-line normal " width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
							<tr>
								<td width="38px" class="indent"><a name="xx3349549xx"></a><img height="16px" width="16px" align="top" src="/script/Forums/Images/msg_general.gif" alt="General" /></td><td class="subject hover-container"><a class="message-link" name="3349549" parent="3341077" thread="3341077" href="/Messages/3349549/Re-HTTPS.aspx">Re: HTTPS</a> <a onclick="return Pin(this);" href="#" title="Click to pin message"><img src="http://s.codeproject.com/script/Forums/Images/pin.png" border="0" align="top" alt="Pin" width="13px" height="13px" /></a></td><td class="icon"><img border="0" src="http://s.codeproject.com/App_Themes/CodeProject/Img/icn-member-16.gif" title="member" alt="member" height="16px" /></td><td class="author"><a href="/script/Membership/View.aspx?mid=6841193">lastalaica</a></td><td class="date">29-Jan-10  4:49&nbsp;</td>
							</tr>
						</table></td>
					</tr><tr id="F3349549_h1" class="content selected" style="display:none;">
						<td class="normal" width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
							<tr valign="top">
								<td class="indent align-right" style="width:38px;"><div class="voteform vertical" ownerid="6841193" msgid="3349549" votingType="GoodOrBad">

								</div><img src="http://s.codeproject.com/script/Forums/Images/t.gif" height="1px" width="38px" alt="" /></td><td class="text"><table border="0" cellpadding="0" cellspacing="5px" width="100%">
									<tr>
										<td><table border="0" cellpadding="0" cellspacing="0" width="100%">
											<tr>
												<td colspan="2">Hi, I don't know if you already have the answer but there it is<br />
&nbsp;<br />
you're supposed to have in your web.config something like that :<br />
<pre><span class="code-keyword">&lt;</span><span class="code-leadattribute">behavior</span> <span class="code-attribute">name</span><span class="code-keyword">="</span><span class="code-keyword">behavior1"</span> <span class="code-keyword">&gt;</span>
  <span class="code-keyword">&lt;</span><span class="code-leadattribute">serviceDebug</span> <span class="code-attribute">includeExceptionDetailInFaults</span><span class="code-keyword">="</span><span class="code-keyword">True"</span><span class="code-keyword">/</span><span class="code-keyword">&gt;</span>
  <span class="code-keyword">&lt;</span><span class="code-leadattribute">serviceMetadata</span> <span class="code-attribute">httpGetEnabled</span><span class="code-keyword">="</span><span class="code-keyword">true"</span> <span class="code-keyword">/</span><span class="code-keyword">&gt;</span>
<span class="code-keyword">&lt;</span><span class="code-keyword">/</span><span class="code-leadattribute">behavior</span><span class="code-keyword">&gt;</span></pre>
&nbsp;<br />
in your serviceMetadata you just need to add this :<br />
<pre>httpsGetEnabled=<span class="code-string">"</span><span class="code-string">true"</span></pre>
&nbsp;<br />
and now the https is enabled on the server<br /></td>
											</tr><tr class="footer" style="vertical-align:top;">
												<td><a href="http://www.codeproject.com/script/Membership/LogOn.aspx?rp=%2fArticles%2f18601%2fAn-easy-way-to-use-certificates-for-WCF-security">Sign In</a>Â·<wbr><a href="/Articles/18601/An-easy-way-to-use-certificates-for-WCF-security?fid=412989&amp;df=90&amp;mpp=25&amp;sort=Position&amp;spc=Relaxed&amp;tid=3341077" title="View&nbsp;Thread">View&nbsp;Thread</a>Â·<wbr><a href="/Messages/3349549/Re-HTTPS.aspx" title="Get permanent link">Permalink</a></td><td style="text-align:right;"><span id="MVF3349549" data-ref="3_3349549" class="rating-label" style="white-space:nowrap;"></span></td>
											</tr>
										</table></td>
									</tr>
								</table></td>
							</tr>
						</table></td>
					</tr><tr id="F3349571_h0" class="header hover-row">
						<td class="subject-line normal " width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
							<tr>
								<td width="56px" class="indent"><a name="xx3349571xx"></a><img height="16px" width="16px" align="top" src="/script/Forums/Images/msg_general.gif" alt="General" /></td><td class="subject hover-container"><a class="message-link" name="3349571" parent="3349549" thread="3341077" href="/Messages/3349571/Re-HTTPS.aspx">Re: HTTPS</a> <a onclick="return Pin(this);" href="#" title="Click to pin message"><img src="http://s.codeproject.com/script/Forums/Images/pin.png" border="0" align="top" alt="Pin" width="13px" height="13px" /></a></td><td class="icon"><img border="0" src="http://s.codeproject.com/App_Themes/CodeProject/Img/icn-member-16.gif" title="member" alt="member" height="16px" /></td><td class="author"><a href="/script/Membership/View.aspx?mid=4867970">neil brightcliffe</a></td><td class="date">29-Jan-10  5:08&nbsp;</td>
							</tr>
						</table></td>
					</tr><tr id="F3349571_h1" class="content selected" style="display:none;">
						<td class="normal" width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
							<tr valign="top">
								<td class="indent align-right" style="width:56px;"><div class="voteform vertical" ownerid="4867970" msgid="3349571" votingType="GoodOrBad">

								</div><img src="http://s.codeproject.com/script/Forums/Images/t.gif" height="1px" width="56px" alt="" /></td><td class="text"><table border="0" cellpadding="0" cellspacing="5px" width="100%">
									<tr>
										<td><table border="0" cellpadding="0" cellspacing="0" width="100%">
											<tr>
												<td colspan="2">Thanks for that, I'll give it a shot.<br /></td>
											</tr><tr class="footer" style="vertical-align:top;">
												<td><a href="http://www.codeproject.com/script/Membership/LogOn.aspx?rp=%2fArticles%2f18601%2fAn-easy-way-to-use-certificates-for-WCF-security">Sign In</a>Â·<wbr><a href="/Articles/18601/An-easy-way-to-use-certificates-for-WCF-security?fid=412989&amp;df=90&amp;mpp=25&amp;sort=Position&amp;spc=Relaxed&amp;tid=3341077" title="View&nbsp;Thread">View&nbsp;Thread</a>Â·<wbr><a href="/Messages/3349571/Re-HTTPS.aspx" title="Get permanent link">Permalink</a></td><td style="text-align:right;"><span id="MVF3349571" data-ref="3_3349571" class="rating-label" style="white-space:nowrap;"></span></td>
											</tr>
										</table></td>
									</tr>
								</table></td>
							</tr>
						</table></td>
					</tr><tr id="F3585616_h0" class="header hover-row">
						<td class="subject-line normal " width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
							<tr>
								<td width="74px" class="indent"><a name="xx3585616xx"></a><img height="16px" width="16px" align="top" src="/script/Forums/Images/msg_general.gif" alt="General" /></td><td class="subject hover-container"><a class="message-link" name="3585616" parent="3349571" thread="3341077" href="/Messages/3585616/Re-HTTPS.aspx">Re: HTTPS</a> <a onclick="return Pin(this);" href="#" title="Click to pin message"><img src="http://s.codeproject.com/script/Forums/Images/pin.png" border="0" align="top" alt="Pin" width="13px" height="13px" /></a></td><td class="icon"><img border="0" src="http://s.codeproject.com/App_Themes/CodeProject/Img/icn-member-16.gif" title="member" alt="member" height="16px" /></td><td class="author"><a href="/script/Membership/View.aspx?mid=2015935">theLUGGAGE</a></td><td class="date">1-Sep-10  23:56&nbsp;</td>
							</tr>
						</table></td>
					</tr><tr id="F3585616_h1" class="content selected" style="display:none;">
						<td class="normal" width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
							<tr valign="top">
								<td class="indent align-right" style="width:74px;"><div class="voteform vertical" ownerid="2015935" msgid="3585616" votingType="GoodOrBad">

								</div><img src="http://s.codeproject.com/script/Forums/Images/t.gif" height="1px" width="74px" alt="" /></td><td class="text"><table border="0" cellpadding="0" cellspacing="5px" width="100%">
									<tr>
										<td><table border="0" cellpadding="0" cellspacing="0" width="100%">
											<tr>
												<td colspan="2">Niel,<br />
&nbsp;<br />
Could you tell us if you got it working on HTTPS. I also need it working on HTTPS but I'm completely new to the whole WCF and security stuff so I was wondering if you where able to use https with the above hints.<br />
&nbsp;<br />
Any help or conformation is welcome<br /></td>
											</tr><tr class="footer" style="vertical-align:top;">
												<td><a href="http://www.codeproject.com/script/Membership/LogOn.aspx?rp=%2fArticles%2f18601%2fAn-easy-way-to-use-certificates-for-WCF-security">Sign In</a>Â·<wbr><a href="/Articles/18601/An-easy-way-to-use-certificates-for-WCF-security?fid=412989&amp;df=90&amp;mpp=25&amp;sort=Position&amp;spc=Relaxed&amp;tid=3341077" title="View&nbsp;Thread">View&nbsp;Thread</a>Â·<wbr><a href="/Messages/3585616/Re-HTTPS.aspx" title="Get permanent link">Permalink</a></td><td style="text-align:right;"><span id="MVF3585616" data-ref="3_3585616" class="rating-label" style="white-space:nowrap;"></span></td>
											</tr>
										</table></td>
									</tr>
								</table></td>
							</tr>
						</table></td>
					</tr><tr id="F3586341_h0" class="header hover-row">
						<td class="subject-line normal " width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
							<tr>
								<td width="92px" class="indent"><a name="xx3586341xx"></a><img height="16px" width="16px" align="top" src="/script/Forums/Images/msg_general.gif" alt="General" /></td><td class="subject hover-container"><a class="message-link" name="3586341" parent="3585616" thread="3341077" href="/Messages/3586341/Re-HTTPS.aspx">Re: HTTPS</a> <a onclick="return Pin(this);" href="#" title="Click to pin message"><img src="http://s.codeproject.com/script/Forums/Images/pin.png" border="0" align="top" alt="Pin" width="13px" height="13px" /></a></td><td class="icon"><img border="0" src="http://s.codeproject.com/App_Themes/CodeProject/Img/icn-member-16.gif" title="member" alt="member" height="16px" /></td><td class="author"><a href="/script/Membership/View.aspx?mid=4867970">neil bright</a></td><td class="date">2-Sep-10  7:46&nbsp;</td>
							</tr>
						</table></td>
					</tr><tr id="F3586341_h1" class="content selected" style="display:none;">
						<td class="normal" width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
							<tr valign="top">
								<td class="indent align-right" style="width:92px;"><div class="voteform vertical" ownerid="4867970" msgid="3586341" votingType="GoodOrBad">

								</div><img src="http://s.codeproject.com/script/Forums/Images/t.gif" height="1px" width="92px" alt="" /></td><td class="text"><table border="0" cellpadding="0" cellspacing="5px" width="100%">
									<tr>
										<td><table border="0" cellpadding="0" cellspacing="0" width="100%">
											<tr>
												<td colspan="2">Hi, sorry but my project was handed to someone else as I left the company.  So I never implemented it.<br />
&nbsp;<br />
Regards,<br />
Neil.<br /></td>
											</tr><tr class="footer" style="vertical-align:top;">
												<td><a href="http://www.codeproject.com/script/Membership/LogOn.aspx?rp=%2fArticles%2f18601%2fAn-easy-way-to-use-certificates-for-WCF-security">Sign In</a>Â·<wbr><a href="/Articles/18601/An-easy-way-to-use-certificates-for-WCF-security?fid=412989&amp;df=90&amp;mpp=25&amp;sort=Position&amp;spc=Relaxed&amp;tid=3341077" title="View&nbsp;Thread">View&nbsp;Thread</a>Â·<wbr><a href="/Messages/3586341/Re-HTTPS.aspx" title="Get permanent link">Permalink</a></td><td style="text-align:right;"><span id="MVF3586341" data-ref="3_3586341" class="rating-label" style="white-space:nowrap;"></span></td>
											</tr>
										</table></td>
									</tr>
								</table></td>
							</tr>
						</table></td>
					</tr><tr id="F3586346_h0" class="header hover-row">
						<td class="subject-line normal " width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
							<tr>
								<td width="110px" class="indent"><a name="xx3586346xx"></a><img height="16px" width="16px" align="top" src="/script/Forums/Images/msg_general.gif" alt="General" /></td><td class="subject hover-container"><a class="message-link" name="3586346" parent="3586341" thread="3341077" href="/Messages/3586346/Re-HTTPS.aspx">Re: HTTPS</a> <a onclick="return Pin(this);" href="#" title="Click to pin message"><img src="http://s.codeproject.com/script/Forums/Images/pin.png" border="0" align="top" alt="Pin" width="13px" height="13px" /></a></td><td class="icon"><img border="0" src="http://s.codeproject.com/App_Themes/CodeProject/Img/icn-member-16.gif" title="member" alt="member" height="16px" /></td><td class="author"><a href="/script/Membership/View.aspx?mid=4867970">neil bright</a></td><td class="date">2-Sep-10  7:48&nbsp;</td>
							</tr>
						</table></td>
					</tr><tr id="F3586346_h1" class="content selected" style="display:none;">
						<td class="normal" width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
							<tr valign="top">
								<td class="indent align-right" style="width:110px;"><div class="voteform vertical" ownerid="4867970" msgid="3586346" votingType="GoodOrBad">

								</div><img src="http://s.codeproject.com/script/Forums/Images/t.gif" height="1px" width="110px" alt="" /></td><td class="text"><table border="0" cellpadding="0" cellspacing="5px" width="100%">
									<tr>
										<td><table border="0" cellpadding="0" cellspacing="0" width="100%">
											<tr>
												<td colspan="2">I do believe that the <br />
&nbsp;<br />
<br />
<pre>  &lt;serviceMetadata httpGetEnabled=<span class="code-string">"</span><span class="code-string">true"</span> /&gt;
</pre>
&nbsp;<br />
should just need changing to <br />
&nbsp;<br />
<br />
<pre>  &lt;serviceMetadata httpsGetEnabled=<span class="code-string">"</span><span class="code-string">true"</span> /&gt;
</pre><br /></td>
											</tr><tr class="footer" style="vertical-align:top;">
												<td><a href="http://www.codeproject.com/script/Membership/LogOn.aspx?rp=%2fArticles%2f18601%2fAn-easy-way-to-use-certificates-for-WCF-security">Sign In</a>Â·<wbr><a href="/Articles/18601/An-easy-way-to-use-certificates-for-WCF-security?fid=412989&amp;df=90&amp;mpp=25&amp;sort=Position&amp;spc=Relaxed&amp;tid=3341077" title="View&nbsp;Thread">View&nbsp;Thread</a>Â·<wbr><a href="/Messages/3586346/Re-HTTPS.aspx" title="Get permanent link">Permalink</a></td><td style="text-align:right;"><span id="MVF3586346" data-ref="3_3586346" class="rating-label" style="white-space:nowrap;"></span></td>
											</tr>
										</table></td>
									</tr>
								</table></td>
							</tr>
						</table></td>
					</tr><tr id="F3248769_h0" class="header hover-row root">
						<td class="subject-line normal " width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
							<tr>
								<td width="20px" class="indent"><a name="xx3248769xx"></a><img height="16px" width="16px" align="top" src="/script/Forums/Images/msg_general.gif" alt="General" /></td><td class="subject hover-container"><a class="message-link" name="3248769" parent="0" thread="3248769" href="/Messages/3248769/The-specified-network-password-is-not-correct.aspx">The specified network password is not correct.</a> <a onclick="return Pin(this);" href="#" title="Click to pin message"><img src="http://s.codeproject.com/script/Forums/Images/pin.png" border="0" align="top" alt="Pin" width="13px" height="13px" /></a></td><td class="icon"><img border="0" src="http://s.codeproject.com/App_Themes/CodeProject/Img/icn-member-16.gif" title="member" alt="member" height="16px" /></td><td class="author"><a href="/script/Membership/View.aspx?mid=1515734">tony.debenport</a></td><td class="date">26-Oct-09  4:35&nbsp;</td>
							</tr>
						</table></td>
					</tr><tr id="F3248769_h1" class="content root selected" style="display:none;">
						<td class="normal" width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
							<tr valign="top">
								<td class="indent align-right" style="width:20px;"><div class="voteform vertical" ownerid="1515734" msgid="3248769" votingType="GoodOrBad">

								</div><img src="http://s.codeproject.com/script/Forums/Images/t.gif" height="1px" width="20px" alt="" /></td><td class="text"><table border="0" cellpadding="0" cellspacing="5px" width="100%">
									<tr>
										<td><table border="0" cellpadding="0" cellspacing="0" width="100%">
											<tr>
												<td colspan="2">Thanks for the good article. I've got your example to work on my local machine with no issues but am seeing the following error message when I tried to deploy on the internet (Discountasp.net)  Any ideas on how to resolve this issue?<br />
&nbsp;<br />
<br />
&nbsp;<br />
Description: An unhandled exception occurred during the execution of the current web request. Please review the stack trace for more information about the error and where it originated in the code. <br />
&nbsp;<br />
Exception Details: System.Security.Cryptography.CryptographicException: The specified network password is not correct.<br />
&nbsp;<br />
<br />
Source Error: <br />
&nbsp;<br />
An unhandled exception was generated during the execution of the current web request. Information regarding the origin and location of the exception can be identified using the exception stack trace below.  <br />
&nbsp;<br />
Stack Trace: <br />
&nbsp;<br />
<br />
[CryptographicException: The specified network password is not correct.<br />
]<br />
   System.Security.Cryptography.CryptographicException.ThrowCryptogaphicException(Int32 hr) +33<br />
   System.Security.Cryptography.X509Certificates.X509Utils._LoadCertFromFile(String fileName, IntPtr password, UInt32 dwFlags, Boolean persistKeySet, SafeCertContextHandle&amp; pCertCtx) +0<br />
   System.Security.Cryptography.X509Certificates.X509Certificate.LoadCertificateFromFile(String fileName, Object password, X509KeyStorageFlags keyStorageFlags) +237<br />
   System.Security.Cryptography.X509Certificates.X509Certificate2..ctor(String fileName, String password) +131<br />
   DevAge.ServiceModel.CertificateHelper.LoadFromFile(String file) +396<br />
   DevAge.ServiceModel.Configuration.ServiceElement.GetServerCertificate() +49<br />
   DevAge.ServiceModel.CertificateServiceHost.ApplyConfiguration() +231<br />
   System.ServiceModel.ServiceHostBase.InitializeDescription(UriSchemeKeyedCollection baseAddresses) +190<br />
   System.ServiceModel.ServiceHost.InitializeDescription(Type serviceType, UriSchemeKeyedCollection baseAddresses) +32<br />
   System.ServiceModel.ServiceHost..ctor(Type serviceType, Uri[] baseAddresses) +139<br />
   DevAge.ServiceModel.CertificateServiceHost..ctor(Type serviceType, Uri[] baseAddresses) +39<br />
   DevAge.ServiceModel.CertificateServiceHostFactory.CreateServiceHost(Type serviceType, Uri[] baseAddresses) +59<br />
   System.ServiceModel.Activation.ServiceHostFactory.CreateServiceHost(String constructorString, Uri[] baseAddresses) +331<br />
   System.ServiceModel.HostingManager.CreateService(String normalizedVirtualPath) +11659932<br />
   System.ServiceModel.HostingManager.ActivateService(String normalizedVirtualPath) +42<br />
   System.ServiceModel.HostingManager.EnsureServiceAvailable(String normalizedVirtualPath) +479<br />
&nbsp;<br />
[ServiceActivationException: The service '/BSTComWCF/BSTCom.svc' cannot be activated due to an exception during compilation.  The exception message is: The specified network password is not correct.<br />
.]<br />
   System.ServiceModel.AsyncResult.End(IAsyncResult result) +11531006<br />
   System.ServiceModel.Activation.HostedHttpRequestAsyncResult.End(IAsyncResult result) +194<br />
   System.ServiceModel.Activation.HostedHttpRequestAsyncResult.ExecuteSynchronous(HttpApplication context, Boolean flowContext) +176<br />
   System.ServiceModel.Activation.HttpModule.ProcessRequest(Object sender, EventArgs e) +278<br />
   System.Web.SyncEventExecutionStep.System.Web.HttpApplication.IExecutionStep.Execute() +68<br />
   System.Web.HttpApplication.ExecuteStep(IExecutionStep step, Boolean&amp; completedSynchronously) +75<br /></td>
											</tr><tr class="footer" style="vertical-align:top;">
												<td><a href="http://www.codeproject.com/script/Membership/LogOn.aspx?rp=%2fArticles%2f18601%2fAn-easy-way-to-use-certificates-for-WCF-security">Sign In</a>Â·<wbr><a href="/Articles/18601/An-easy-way-to-use-certificates-for-WCF-security?fid=412989&amp;df=90&amp;mpp=25&amp;sort=Position&amp;spc=Relaxed&amp;tid=3248769" title="View&nbsp;Thread">View&nbsp;Thread</a>Â·<wbr><a href="/Messages/3248769/The-specified-network-password-is-not-correct.aspx" title="Get permanent link">Permalink</a></td><td style="text-align:right;"><span id="MVF3248769" data-ref="3_3248769" class="rating-label" style="white-space:nowrap;"></span></td>
											</tr>
										</table></td>
									</tr>
								</table></td>
							</tr>
						</table></td>
					</tr><tr id="F3250859_h0" class="header hover-row">
						<td class="subject-line normal " width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
							<tr>
								<td width="38px" class="indent"><a name="xx3250859xx"></a><img height="16px" width="16px" align="top" src="/script/Forums/Images/msg_general.gif" alt="General" /></td><td class="subject hover-container"><a class="message-link" name="3250859" parent="3248769" thread="3248769" href="/Messages/3250859/Re-The-specified-network-password-is-not-correct.aspx">Re: The specified network password is not correct.</a> <a onclick="return Pin(this);" href="#" title="Click to pin message"><img src="http://s.codeproject.com/script/Forums/Images/pin.png" border="0" align="top" alt="Pin" width="13px" height="13px" /></a></td><td class="icon"><img border="0" src="http://s.codeproject.com/App_Themes/CodeProject/Img/icn-member-16.gif" title="member" alt="member" height="16px" /></td><td class="author"><a href="/script/Membership/View.aspx?mid=3742046">Nuno M C Rodrigues</a></td><td class="date">27-Oct-09  10:05&nbsp;</td>
							</tr>
						</table></td>
					</tr><tr id="F3250859_h1" class="content selected" style="display:none;">
						<td class="normal" width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
							<tr valign="top">
								<td class="indent align-right" style="width:38px;"><div class="voteform vertical" ownerid="3742046" msgid="3250859" votingType="GoodOrBad">

								</div><img src="http://s.codeproject.com/script/Forums/Images/t.gif" height="1px" width="38px" alt="" /></td><td class="text"><table border="0" cellpadding="0" cellspacing="5px" width="100%">
									<tr>
										<td><table border="0" cellpadding="0" cellspacing="0" width="100%">
											<tr>
												<td colspan="2">I had the same error.<br />
&nbsp;<br />
&nbsp;&nbsp;&nbsp;&nbsp;Localy on a XP machine, perfect. <br />
&nbsp;&nbsp;&nbsp;&nbsp;On the Dev server (WinSrv2003), perfect. <br />
&nbsp;&nbsp;&nbsp;&nbsp;On Production server, "The specified network password is not correct".<br />
&nbsp;<br />
&nbsp;&nbsp;&nbsp;&nbsp;On "DevAge.ServiceModel.CertificateHelper" class at the instantiation of the X509Certificate2 pass the flag X509KeyStorageFlags.Exportable, like:<br />
<pre><span class="code-keyword">new</span> X509Certificate2(fullPath, password, X509KeyStorageFlags.Exportable)</pre>
Hope it helps<br />
&nbsp;<br /></td>
											</tr><tr class="footer" style="vertical-align:top;">
												<td><a href="http://www.codeproject.com/script/Membership/LogOn.aspx?rp=%2fArticles%2f18601%2fAn-easy-way-to-use-certificates-for-WCF-security">Sign In</a>Â·<wbr><a href="/Articles/18601/An-easy-way-to-use-certificates-for-WCF-security?fid=412989&amp;df=90&amp;mpp=25&amp;sort=Position&amp;spc=Relaxed&amp;tid=3248769" title="View&nbsp;Thread">View&nbsp;Thread</a>Â·<wbr><a href="/Messages/3250859/Re-The-specified-network-password-is-not-correct.aspx" title="Get permanent link">Permalink</a></td><td style="text-align:right;"><span id="MVF3250859" data-ref="3_3250859" class="rating-label" style="white-space:nowrap;"></span></td>
											</tr>
										</table></td>
									</tr>
								</table></td>
							</tr>
						</table></td>
					</tr><tr id="F3252124_h0" class="header hover-row">
						<td class="subject-line normal " width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
							<tr>
								<td width="56px" class="indent"><a name="xx3252124xx"></a><img height="16px" width="16px" align="top" src="/script/Forums/Images/msg_general.gif" alt="General" /></td><td class="subject hover-container"><a class="message-link" name="3252124" parent="3250859" thread="3248769" href="/Messages/3252124/Re-The-specified-network-password-is-not-correct.aspx">Re: The specified network password is not correct.</a> <a onclick="return Pin(this);" href="#" title="Click to pin message"><img src="http://s.codeproject.com/script/Forums/Images/pin.png" border="0" align="top" alt="Pin" width="13px" height="13px" /></a></td><td class="icon"><img border="0" src="http://s.codeproject.com/App_Themes/CodeProject/Img/icn-member-16.gif" title="member" alt="member" height="16px" /></td><td class="author"><a href="/script/Membership/View.aspx?mid=1515734">tony.debenport</a></td><td class="date">28-Oct-09  6:13&nbsp;</td>
							</tr>
						</table></td>
					</tr><tr id="F3252124_h1" class="content selected" style="display:none;">
						<td class="normal" width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
							<tr valign="top">
								<td class="indent align-right" style="width:56px;"><div class="voteform vertical" ownerid="1515734" msgid="3252124" votingType="GoodOrBad">

								</div><img src="http://s.codeproject.com/script/Forums/Images/t.gif" height="1px" width="56px" alt="" /></td><td class="text"><table border="0" cellpadding="0" cellspacing="5px" width="100%">
									<tr>
										<td><table border="0" cellpadding="0" cellspacing="0" width="100%">
											<tr>
												<td colspan="2">Nuno,<br />
Thanks! You pointed me in the right direction. When I set the storageflag to Exportable it didn't work, but according to my isp provider the keys are stored in the Machine Key store. The code below worked.<br />
&nbsp;<br />
<pre><span class="code-keyword">new</span> X509Certificate2(fullPath, password, X509KeyStorageFlags.MachineKeySet);</pre><br /></td>
											</tr><tr class="footer" style="vertical-align:top;">
												<td><a href="http://www.codeproject.com/script/Membership/LogOn.aspx?rp=%2fArticles%2f18601%2fAn-easy-way-to-use-certificates-for-WCF-security">Sign In</a>Â·<wbr><a href="/Articles/18601/An-easy-way-to-use-certificates-for-WCF-security?fid=412989&amp;df=90&amp;mpp=25&amp;sort=Position&amp;spc=Relaxed&amp;tid=3248769" title="View&nbsp;Thread">View&nbsp;Thread</a>Â·<wbr><a href="/Messages/3252124/Re-The-specified-network-password-is-not-correct.aspx" title="Get permanent link">Permalink</a></td><td style="text-align:right;"><span id="MVF3252124" data-ref="3_3252124" class="rating-label" style="white-space:nowrap;"></span></td>
											</tr>
										</table></td>
									</tr>
								</table></td>
							</tr>
						</table></td>
					</tr><tr>
						<td><img src="http://s.codeproject.com/script/Forums/Images/t.gif" border="0" width="1px" height="5px" alt="" /></td>
					</tr>
				</table></td>
			</tr><tr>
				<td><table width="100%" cellpadding="2px" cellspacing="0">
					<tr class="footer">
						<td>Last Visit: 31-Dec-99  18:00 &nbsp; &nbsp; Last Update: 9-Jun-14  13:58</td><td><a href="/Articles/18601/An-easy-way-to-use-certificates-for-WCF-security?fid=412989&amp;df=90&amp;mpp=25&amp;noise=3&amp;prof=False&amp;sort=Position&amp;view=Normal&amp;spc=Relaxed">Refresh</a></td><td style="text-align:right;white-space:nowrap;"><input id="_mbnUrl" type="hidden" value="/Articles/18601/An-easy-way-to-use-certificates-for-WCF-security?fid=412989&amp;df=90&amp;mpp=25&amp;noise=3&amp;prof=False&amp;sort=Position&amp;view=Normal&amp;spc=Relaxed&amp;fr=26" /><span class="nav-link selected">1</span><a class="nav-link" name="Frm_HoverNL" href="/Articles/18601/An-easy-way-to-use-certificates-for-WCF-security?fid=412989&amp;df=90&amp;mpp=25&amp;noise=3&amp;prof=False&amp;sort=Position&amp;view=Normal&amp;spc=Relaxed&amp;fr=26#xx0xx">2</a><a class="nav-link" name="Frm_HoverNL" href="/Articles/18601/An-easy-way-to-use-certificates-for-WCF-security?fid=412989&amp;df=90&amp;mpp=25&amp;noise=3&amp;prof=False&amp;sort=Position&amp;view=Normal&amp;spc=Relaxed&amp;fr=51#xx0xx">3</a> <a class="nav-link" name="Frm_HoverNL" href="/Articles/18601/An-easy-way-to-use-certificates-for-WCF-security?fid=412989&amp;df=90&amp;mpp=25&amp;noise=3&amp;prof=False&amp;sort=Position&amp;view=Normal&amp;spc=Relaxed&amp;fr=26#xx0xx">Next Â»</a></td>
					</tr>
				</table></td>
			</tr>
		</tr>
	</table><p class="small-text"><img align="top" src="/script/Forums/Images/msg_general.gif" width="16px" height="16px" alt="General" /> General &nbsp;&nbsp; <img align="top" src="/script/Forums/Images/msg_news.gif" width="16px" height="16px" alt="News" /> News &nbsp;&nbsp; <img align="top" src="/script/Forums/Images/msg_idea.gif" width="16px" height="16px" alt="Suggestion" /> Suggestion &nbsp;&nbsp; <img align="top" src="/script/Forums/Images/msg_question.gif" width="16px" height="16px" alt="Question" /> Question &nbsp;&nbsp; <img align="top" src="/script/Forums/Images/msg_bug.gif" width="16px" height="16px" alt="Bug" /> Bug &nbsp;&nbsp; <img align="top" src="/script/Forums/Images/msg_answer.gif" width="16px" height="16px" alt="Answer" /> Answer &nbsp;&nbsp; <img align="top" src="/script/Forums/Images/msg_joke.gif" width="16px" height="16px" alt="Joke" /> Joke &nbsp;&nbsp; <img align="top" src="/script/Forums/Images/msg_rant.gif" width="16px" height="16px" alt="Rant" /> Rant &nbsp;&nbsp; <img align="top" src="/script/Forums/Images/msg_admin.gif" width="16px" height="16px" alt="Admin" /> Admin &nbsp;&nbsp; </p><p class="small-text">Use Ctrl+Left/Right to switch messages, Ctrl+Up/Down to switch threads, Ctrl+Shift+Left/Right to switch pages.</p>
				

			</div>
			
		</td>
		<td>
			<div id="ctl00_RightSideBar" class="container-article-info">

				<div class="header">About Article</div>
				<div class="article-summary">

					
					

					
					

					
					<div class="summary"><span id="ctl00_ArticleDescr">An easy solution to use certificates on Windows Communication Foundation loading the certificates from files</span></div>

					<a id="ctl00_InfoBox_ParentLink"></a>

<table cellpadding="0" cellspacing="0" class="article-info">

	
	<tr><td>Type&nbsp;</td><td class="value"><a id="ctl00_InfoBox_TypeName" href="/script/Articles/Types.aspx?#Article">Article</a></td></tr>
	

	<tr><td>Licence&nbsp;</td><td class="value"><a href="http://www.opensource.org/licenses/mit-license.php" title="The MIT License">MIT</a></td></tr>

	

	<tr><td>First Posted&nbsp;</td><td nowrap="nowrap" class="value"><span itemprop="datePublished" content="2007-04-30">30 Apr 2007</span></td></tr>

	<tr><td>Views&nbsp;</td><td class="value">235,341</td></tr>

	
	<tr><td>Downloads&nbsp;</td><td  class="value">4,373</td></tr>
		

	
	<tr><td>Bookmarked&nbsp;</td><td class="value">120 times</td></tr>
	

	

	
	
	
	<tr><td colspan="2"></td>
	</tr>
	
	
</table>

					<div class="tags"> 
					<span id="ctl00_TagsList_TagWrp" class="tags">
	
	
	
	<span id="ctl00_TagsList_VisibleTags"><span class="t"><a rel="tag" href="/Tags/VS2005">VS2005</a></span><span class="t"><a rel="tag" href="/Tags/C--hash--2.0">C#2.0</a></span><span class="t"><a rel="tag" href="/Tags/.NET3.0">.NET3.0</a></span><br><span class="t"><a rel="tag" href="/Tags/ASP.NET">ASP.NET</a></span><span class="t"><a rel="tag" href="/Tags/Windows">Windows</a></span><span class="t"><a rel="tag" href="/Tags/Dev">Dev</a></span><span class="t"><a rel="tag" href="/Tags/WCF">WCF</a></span></span><acronym id="ctl00_TagsList_HiddenTags" title="plus: WebForms, Intermediate">, +</acronym> 

	
	
</span>

					</div>

					<div class="nowrap align-left">
						 

<a id="ctl00_ActionLinks_PrintLnk" href="/Articles/18601/An-easy-way-to-use-certificates-for-WCF-security?display=Print">
	<img src="http://s.codeproject.com/App_Themes/CodeProject/Img/print.gif" 
		width="46px" height="46px" style="border:0">
</a>

<a id="ctl00_ActionLinks_MailLink" href="/script/common/TellFriend.aspx?obtid=2&amp;obid=18601">
	<img src="http://s.codeproject.com/App_Themes/CodeProject/Img/email.gif" 
		width="46px" height="46px" style="border:0">
</a>
					</div>

					
				</div>

				<div style="width:160px;margin: 10px auto;">
					<div class="msg-160x600" data-format="160x600" data-type="ad" data-publisher="lqm.codeproject.site" data-zone="ros"  data-tags='VS2005, C#2.0, .NET3.0, ASP.NET, Windows, Dev, WCF, WebForms, Intermediate,rating4.5'></div>
				</div>

				

				

                
				<div class="padded-top">
					
	<div id="ctl00_RelatedArticles_RelatedResults_ctl00_header" class="header">Related Articles</div>
	<div class="content-list">	
	
	<div class="content-list-item">
		<a id="ctl00_RelatedArticles_RelatedResults_ctl02_Link" class="title" href="/Articles/28248/Securing-WCF-Services-with-Certificates">Securing WCF Services with Certificates</a>
		
	</div>
	
	<div class="content-list-item">
		<a id="ctl00_RelatedArticles_RelatedResults_ctl03_Link" class="title" href="/Articles/348595/Use-Mutual-SSL-Authentication-in-WCF">Use Mutual SSL Authentication in WCF</a>
		
	</div>
	
	<div class="content-list-item">
		<a id="ctl00_RelatedArticles_RelatedResults_ctl04_Link" class="title" href="/Articles/82737/Steps-to-Implement-DUAL-Security-on-WCF-using-Us">6 Steps to Implement DUAL Security on WCF using User name + SSL</a>
		
	</div>
	
	<div class="content-list-item">
		<a id="ctl00_RelatedArticles_RelatedResults_ctl05_Link" class="title" href="/Articles/25677/Simple-WCF-X-Certificate">Simple WCF - X509 Certificate</a>
		
	</div>
	
	<div class="content-list-item">
		<a id="ctl00_RelatedArticles_RelatedResults_ctl06_Link" class="title" href="/Articles/36157/steps-to-create-free-SSL-certificate-for-develop">4 steps to create free SSL certificate for development</a>
		
	</div>
	
	<div class="content-list-item">
		<a id="ctl00_RelatedArticles_RelatedResults_ctl07_Link" class="title" href="/Articles/240655/Using-a-Smart-Card-Certificate-with-NET-Security-i">Using a Smart Card Certificate with .NET Security in C#</a>
		
	</div>
	
	<div class="content-list-item">
		<a id="ctl00_RelatedArticles_RelatedResults_ctl08_Link" class="title" href="/Articles/36732/WCF-FAQ-Part-security-related-FAQ">WCF FAQ: Part 3 â€“ 10 security related FAQ</a>
		
	</div>
	
	<div class="content-list-item">
		<a id="ctl00_RelatedArticles_RelatedResults_ctl09_Link" class="title" href="/Articles/36705/simple-steps-to-enable-HTTPS-on-WCF-WsHttp-bindi">Seven simple steps to enable HTTPS on WCF WsHttp bindings</a>
		
	</div>
	
	<div class="content-list-item">
		<a id="ctl00_RelatedArticles_RelatedResults_ctl10_Link" class="title" href="/Tips/551782/How-To-Be-Your-Own-Certificate">How To Be Your Own Certificate Authority and Create Your Own Certificate to Sign Code Files</a>
		
	</div>
	
	<div class="content-list-item">
		<a id="ctl00_RelatedArticles_RelatedResults_ctl11_Link" class="title" href="/Articles/36683/simple-steps-to-enable-X-certificates-on-WCF">Nine simple steps to enable X.509 certificates on WCF</a>
		
	</div>
	
	<div class="content-list-item">
		<a id="ctl00_RelatedArticles_RelatedResults_ctl12_Link" class="title" href="/Articles/24027/SSL-with-Self-hosted-WCF-Service">SSL with Self-hosted WCF Service</a>
		
	</div>
	
	<div class="content-list-item">
		<a id="ctl00_RelatedArticles_RelatedResults_ctl13_Link" class="title" href="/Articles/131048/WCF-self-hosted-service-over-HTTPS">WCF self hosted service over HTTPS</a>
		
	</div>
	
	<div class="content-list-item">
		<a id="ctl00_RelatedArticles_RelatedResults_ctl14_Link" class="title" href="/Tips/692041/How-to-host-a-WCF-service-without-IIS">How to host a WCF service without IIS in a development and production environment</a>
		
	</div>
	
	<div class="content-list-item">
		<a id="ctl00_RelatedArticles_RelatedResults_ctl15_Link" class="title" href="/Tips/55648/Create-self-signed-key-the-easy-way">Create self signed key...the easy way</a>
		
	</div>
	
	<div class="content-list-item">
		<a id="ctl00_RelatedArticles_RelatedResults_ctl16_Link" class="title" href="/Articles/326909/Creating-a-WCF-Service-with-MSMQ-Communication-and">Creating a WCF Service with MSMQ Communication and Certificate Security</a>
		
	</div>
	
	<div class="content-list-item">
		<a id="ctl00_RelatedArticles_RelatedResults_ctl17_Link" class="title" href="/Articles/554692/Halibut-a-secure-communication-stack-for-NET-Mono">Halibut: a secure communication stack for .NET/Mono</a>
		
	</div>
	
	<div class="content-list-item">
		<a id="ctl00_RelatedArticles_RelatedResults_ctl18_Link" class="title" href="/Articles/184847/SSL-Peer-Verification">SSL Peer Verification</a>
		
	</div>
	
	<div class="content-list-item">
		<a id="ctl00_RelatedArticles_RelatedResults_ctl19_Link" class="title" href="/Articles/504399/Understanding-Windows-Identity-Foundation-WIF">Understanding Windows Identity Foundation (WIF) 4.5</a>
		
	</div>
	
	<div class="content-list-item">
		<a id="ctl00_RelatedArticles_RelatedResults_ctl20_Link" class="title" href="/Articles/59927/WCF-Service-over-HTTPS-with-custom-username-and-pa">WCF Service over HTTPS with custom username and password validator in IIS</a>
		
	</div>
	
	<div class="content-list-item">
		<a id="ctl00_RelatedArticles_RelatedResults_ctl21_Link" class="title" href="/Articles/17400/A-closer-look-at-Windows-Communication-Foundation">A closer look at Windows Communication Foundation</a>
		
	</div>
	
	</div>
	

				</div>
				<div class="padded-top">
					
	<div id="ctl00_RelatedLibrary_RelatedResults_ctl00_header" class="header">Related Research</div>
	<div class="content-list align-center">	
	
	<div class="content-list-item">
		<div><img id="ctl00_RelatedLibrary_RelatedResults_ctl01_Thumb" class="shadow" src="/script/ResearchLibrary/Logos/LibraryItemThumbnail_28_100x130.png" style="border-width:0px;" /></div>
		<a id="ctl00_RelatedLibrary_RelatedResults_ctl01_Link" class="title" href="/ResearchLibrary/28/Insider-Secrets-on-API-Security-From-Experts-at-Se">Insider Secrets on API Security From Experts at Securosis [Webinar]</a>
		
	</div>
	
	<div class="content-list-item">
		<div><img id="ctl00_RelatedLibrary_RelatedResults_ctl02_Thumb" class="shadow" src="/script/ResearchLibrary/Logos/LibraryItemThumbnail_57_100x130.gif" style="border-width:0px;" /></div>
		<a id="ctl00_RelatedLibrary_RelatedResults_ctl02_Link" class="title" href="/ResearchLibrary/57/Developer-Tips-for-Scanning-on-the-Web">Developer Tips for Scanning on the Web</a>
		
	</div>
	
	<div class="content-list-item">
		<div><img id="ctl00_RelatedLibrary_RelatedResults_ctl03_Thumb" class="shadow" src="/script/ResearchLibrary/Logos/LibraryItemThumbnail_29_100x130.png" style="border-width:0px;" /></div>
		<a id="ctl00_RelatedLibrary_RelatedResults_ctl03_Link" class="title" href="/ResearchLibrary/29/Custom-API-Management-for-the-Enterprise-Learn-how">Custom API Management for the Enterprise: Learn how to build a successful API strategy [Webinar]</a>
		
	</div>
	
	<div class="content-list-item">
		<div><img id="ctl00_RelatedLibrary_RelatedResults_ctl04_Thumb" class="shadow" src="/script/ResearchLibrary/Logos/LibraryItemThumbnail_56_100x130.gif" style="border-width:0px;" /></div>
		<a id="ctl00_RelatedLibrary_RelatedResults_ctl04_Link" class="title" href="/ResearchLibrary/56/Enterprise-Imaging-on-the-Web-A-How-To-Guide-for-D">Enterprise Imaging on the Web: A How To Guide for Developers</a>
		
	</div>
	
	</div>
	

				</div>

				
				
			</div>
		</td>
		</tr></table>

		
		<div class="theme1-background" style="height:2px"></div>

		<div class="extended tiny-text">
			<div class="row">
				<div class="float-left">
					<a id="ctl00_PermaLink" itemprop="url" href="/Articles/18601/An-easy-way-to-use-certificates-for-WCF-security">Permalink</a> | 
					<a id="ctl00_AdvertiseLink" href="http://developermedia.com/">Advertise </a> |
					<a id="ctl00_PrivacyLink" href="/info/privacy.aspx">Privacy</a> |
					<a id="ctl00_Mobile" rel="nofollow" href="/Articles/18601/An-easy-way-to-use-certificates-for-WCF-security?display=Mobile">Mobile</a>
					<br />
								
					
					Web01 |
					2.8.140609.1 |
					Last Updated 30 Apr 2007								
				</div>
				<div class="float-right align-right">
					Article Copyright 2007 by Davide Icardi<br />Everything else
					Copyright &copy; <a href="mailto:webmaster@codeproject.com">CodeProject</a>, 1999-2014 <br />
					<a id="ctl00_TermsOfUseLink" href="/info/TermsOfUse.aspx">Terms of Service</a>
				</div>

				


<div class="page-width">
Layout: <a id="ctl00_PageWidth_FixedT" title="Fixed width layout" rel="nofollow" class=" active" href="/Articles/18601/An-easy-way-to-use-certificates-for-WCF-security?PageFlow=FixedWidth">fixed</a>
|
<a id="ctl00_PageWidth_FluidT" title="Fluid layout" rel="nofollow" href="/Articles/18601/An-easy-way-to-use-certificates-for-WCF-security?PageFlow=Fluid">fluid</a>
</div>



			</div>
		</div>
		

		<br clear="all" />
		
			

	</div> 
	</div>
</div>


<div style="display:none;" id="dm_AdTable">
	
</div>






<script type="text/javascript" language="Javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.6.2/jquery.min.js"></script><script type='text/javascript'>//<![CDATA[
if (typeof jQuery == 'undefined') {
    document.write(unescape("%3Cscript src='/script/JS/jquery-1.6.2.min.js' type='text/javascript' %3E%3C/script%3E"));
}//]]></script>
<script type="text/javascript" language="Javascript" src="http://s.codeproject.com/script/Articles/JS/article.min.js?dt=2.8.140609.1"></script>
<script type="text/javascript" language="Javascript" src="http://s.codeproject.com/script/JS/navbar.min.js?dt=2.8.140609.1"></script>
<script type="text/javascript" language="Javascript" src="http://s.codeproject.com/script/Membership/JS/Notifications.min.js?dt=2.8.140609.1"></script>
<script type="text/javascript" language="Javascript">//<![CDATA[
$(document).ready(function() { anchorAnimate(); });
(function(d, s, id) {  var js, fjs = d.getElementsByTagName(s)[0]; if (d.getElementById(id)) return; js = d.createElement(s); js.id = id; js.src = "//connect.facebook.net/en_GB/all.js#xfbml=1"; fjs.parentNode.insertBefore(js, fjs);}(document, 'script', 'facebook-jssdk'));
(function() {var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true; po.src = 'https://apis.google.com/js/plusone.js'; var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s); })();
!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){ js=d.createElement(s);js.id=id; js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");
var DMReportsOK = null;function showDMAlert() {   var $div = $('div.msg-728x90');  $div.append($('<img src="/images/alert-top-block.gif" style="right:0;position:absolute;z-index:0">'));}function onDMcallBack(event){   if (event.originalEvent) event = event.originalEvent;   jQuery.support.cors = true;   if (event.data === 'DM:Disabled') DMReportsOK = false;   else if (event.data === 'DM:Enabled' || event.data=='DM-enabled') DMReportsOK = true;   else if (typeof event.data == 'object' && event.data.sender &&             event.data.sender == 'DeveloperMedia' && event.data.application=='apps' &&            event.data.action == 'reportEnabled') {            DMReportsOK = event.data.data.eanbled;   }}function checkLoaded() {  var recordCheck  = false; var showBlockMsg = false; var block        = 'None'; if (!DMReportsOK && block == 'None' && typeof DMAds === 'undefined')     block = 'ResourceBlocked'; if (DMReportsOK === true) block = 'None'; else if (DMReportsOK === false) block = 'DomModified'; if (recordCheck) {  $.ajax({ url:'/script/AdServe/Ajax/VS.aspx',data:{'adbm':block}, cache:false, async:true }); } if (showBlockMsg && block != 'None')    showDMAlert();}$(document).ready(function() {  $(window).bind('message', onDMcallBack);  setTimeout(checkLoaded, 4000);});
$(document).ready(function() {   $('.alert-bar').fadeIn('slow');   $('.alert-bar a.close-notify').click(function() {      $('.alert-bar').fadeOut('fast');        return false;    });});
$(function ()
                {
                    $('.oauth').click(function () {
                        $this = $(this);
                        href = $this.attr('href');
                        var myWindow = window.open(href, 'popup',
                                    'width=800,height=600,location=0,menubar=0,resizeable=0,scrollbars=0,toolbar=0');
                        myWindow.focus();
                        var timer = setInterval(function () {
                                        if (myWindow.closed) {
                                            clearInterval(timer);
                                            // window.location.reload(); // May do a POST reload, shows a warning
                                            window.location = window.location; // force a GET reload
                                        }
                                    }, 200);
                        return false;
                    });
                });
var oSrchFlt = false, oSrchBox=false,srchBoxFoc=false;
$(document).ready(function() {
 if(InitWatermark)InitWatermark('sb_tb', 'Search for articles, questions, tips');
 var sbar = $('#sb_tb'); 
 var sfilter = $('#SearchFilter');
 if (sbar && sfilter) {
  sfilter.removeClass('popup'); sfilter.hide();
  sbar.blur(function() {
 if (!oSrchFlt)sfilter.hide();
 srchBoxFoc=false;
 /*sbar.animate( { width:'210px' }, { queue:false, duration:300 });
*/ });
  sbar.focus(function() {
 oSrchFlt=false;srchBoxFoc=true;
 sfilter.show();
 /*sbar.animate( { width:'500px' }, { queue:false, duration:300 });
*/ });
  sbar.mouseleave(function() { oSrchBox=false; });
  sbar.mouseover(function() { oSrchBox=true; });
  sfilter.mouseleave(function() { oSrchFlt=false; if (!srchBoxFoc&&!oSrchBox)sfilter.hide();});
  sfilter.mouseover(function() { oSrchFlt=true; });
 }
});
$('#clear-rate_ctl00_RateArticle_RSU').click(function () {    $('#ctl00_RateArticle_RSU').hide(); return false;});$("#ctl00_RateArticle_RateItemWrapper")   .removeClass("container-rating")   .hover( function() { $('#ctl00_RateArticle_RSU').fadeIn('fast'); },            function() { $('#ctl00_RateArticle_RSU').fadeOut('fast'); } );
function PostBack_ctl00_RateArticle_RateItemWrapper() {
  return rateItem(18601,2,1,true,true,3,'LargeStars');
}

                        function getVotesHistogram(objectId, objectTypeId, containerId, loadingId) {
                            if (!$('#' + containerId).attr('alreadyRequested')){
                                $.ajax({
                                    url: '/script/Ratings/Ajax/Histogram.aspx?obid=' + objectId + '&obtid='+objectTypeId,
                                    success: function (data) {
                                        $('#' + containerId).html(data);
                                        $('#' + loadingId).hide();
                                    }
                                });
                                $('#' + containerId).attr('alreadyRequested', 'true');
                            }
                        }
$(document).ready(function() {   new starRating('#ctl00_RateArticle_VoteFormDiv', PostBack_ctl00_RateArticle_RateItemWrapper,'ctl00_RateArticle');
  $('#ctl00_RateArticle_RB').mouseenter(function() {     getVotesHistogram(18601,2   ,'ctl00_RateArticle_Histogram','ctl00_RateArticle_Loading');  })})
$(document).ready(function() { $('#ctl00_RateArticle_SubmitRateBtn').hide(); });
$(document).ready(function() { $('#ctl00_RateArticle_SubmitRateBtn').hide(); });function ChkRtctl00_RateArticle(){}

forumDir = '/script/Forums/';
staticServer = 'http://s.codeproject.com';
allowReporting = false;
allowRating = false;
allowRatingDisplay = true;
var smoothScroll = false;
Selected        = -1;
oldTitle        = document.title;
minMessageScore = 1;
minMessageScore = 5;
abuseScore      = -2;
spamScore       = -1;
getRatingUrl    = '/script/Ratings/Ajax/GetRatings.aspx';
noiseThreshold  = 3;
getRatingRefKey = 'obrs';


//]]>
</script>


</body>
</html>